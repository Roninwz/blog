(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{359:function(t,s,a){t.exports=a.p+"assets/img/vue-life.a43f857b.png"},360:function(t,s,a){t.exports=a.p+"assets/img/diff.6bb48865.png"},549:function(t,s,a){"use strict";a.r(s);var e=a(43),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"vue-面试及答案"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vue-面试及答案"}},[t._v("#")]),t._v(" vue 面试及答案")]),t._v(" "),e("h3",{attrs:{id:"_1-vue-单页面和多页面区别"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-vue-单页面和多页面区别"}},[t._v("#")]),t._v(" 1. vue 单页面和多页面区别")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("单页面应用开发（spa）")]),t._v(" "),e("p",[t._v("概念：只有一个 html 页面，所以跳转的方式是组件之间的切换")]),t._v(" "),e("p",[t._v("优点：跳转流畅；组件化开发；组件可复用；开发便捷")]),t._v(" "),e("p",[t._v("缺点：首屏加载过慢；seo 优化不好")])]),t._v(" "),e("li",[e("p",[t._v("多页面应用开发（mpa）")]),t._v(" "),e("p",[t._v("概念：有多个页面，跳转方式是页面之间的跳转")]),t._v(" "),e("p",[t._v("优点：首屏加载快；seo 优化好")]),t._v(" "),e("p",[t._v("缺点：跳转流畅")])])]),t._v(" "),e("h3",{attrs:{id:"_1-1-说说你对-spa-单页面的理解，它的优缺点分别是什么？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-说说你对-spa-单页面的理解，它的优缺点分别是什么？"}},[t._v("#")]),t._v(" 1.1 说说你对 SPA 单页面的理解，它的优缺点分别是什么？")]),t._v(" "),e("blockquote",[e("p",[t._v("SPA（ single-page application ）仅在 Web 页面初始化时加载相应的 HTML、JavaScript 和 CSS。一旦页面加载完成，SPA 不会因为用户的操作而进行页面的重新加载或跳转；取而代之的是利用路由机制实现 HTML 内容的变换，UI 与用户的交互，避免页面的重新加载。")])]),t._v(" "),e("ul",[e("li",[t._v("优点：")])]),t._v(" "),e("blockquote",[e("p",[t._v("用户体验好、快，内容的改变不需要重新加载整个页面，避免了不必要的跳转和重复渲染；"),e("br"),t._v("\n基于上面一点，SPA 相对对服务器压力小；"),e("br"),t._v("\n前后端职责分离，架构清晰，前端进行交互逻辑，后端负责数据处理；")])]),t._v(" "),e("ul",[e("li",[t._v("缺点：")])]),t._v(" "),e("blockquote",[e("p",[t._v("初次加载耗时多：为实现单页 Web 应用功能及显示效果，需要在加载页面的时候将 JavaScript、CSS 统一加载，部分页面按需加载；"),e("br"),t._v("\n前进后退路由管理：由于单页应用在一个页面中显示所有的内容，所以不能使用浏览器的前进后退功能，所有的页面切换需要自己建立堆栈管理；"),e("br"),t._v("\nSEO 难度较大：由于所有的内容都在一个页面中动态替换显示，所以在 SEO 上其有着天然的弱势。")])]),t._v(" "),e("h3",{attrs:{id:"_2-生命周期是什么？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-生命周期是什么？"}},[t._v("#")]),t._v(" 2. 生命周期是什么？")]),t._v(" "),e("blockquote",[e("p",[t._v("Vue 实例有一个完整的生命周期，也就是从开始创建、初始化数据、编译模版、挂载 Dom -> 渲染、更新 -> 渲染、卸载等一系列过程，我们称这是 Vue 的生命周期。")])]),t._v(" "),e("h3",{attrs:{id:"_2-1-vue-的生命周期"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-vue-的生命周期"}},[t._v("#")]),t._v(" 2.1 VUE 的生命周期")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("beforeCreate：组件刚被创建，组件属性计算之前")])]),t._v(" "),e("li",[e("p",[t._v("created：组件实例创建完成，属性已绑定， 但真实 dom 还没有生成，$el 还不可用,但是 data 和 method 可用")])]),t._v(" "),e("li",[e("p",[t._v("beforeMount：此时已经完成了模板的编译，在页面挂载开始之前被调用, 相关的 render 函数首次被调用")])]),t._v(" "),e("li",[e("p",[t._v("mounted：已经将编译好的模板，挂载到了页面指定的容器中显示,可操作 DOM（最早）")]),t._v(" "),e("blockquote",[e("p",[t._v("(el 是 Vue 实例的挂载目标。在实例挂载之后，元素可以用 vm.$el 访问el 被新创建的 vm.$el 替换，并挂载到实例上去之后调用该钩子)")])])]),t._v(" "),e("li",[e("p",[t._v("beforeUpdate：状态更新之前执行此函数，此时 data 中的状态值是最新的，但是界面上显示的 数据还是旧的，此时还没有开始重新渲染 DOM 节点")]),t._v(" "),e("blockquote",[e("p",[t._v("组件数据更新之前调用，发生在虚拟 DOM 打补丁之前")])])]),t._v(" "),e("li",[e("p",[t._v("updated：实例更新完毕之后调用此函数，此时 data 中的状态值 和 界面上显示的数据，都已经完成了更新，界面已经被重新渲染好了！")])]),t._v(" "),e("li",[e("p",[t._v("activited keep-alive 专属，组件被激活时调用")])]),t._v(" "),e("li",[e("p",[t._v("deactivated keep-alive 专属，组件被销毁时调用")])]),t._v(" "),e("li",[e("p",[t._v("beforeDestroy：实例销毁之前调用。在这一步，实例（data,methods,过滤器，指令）仍然完全可用。")]),t._v(" "),e("blockquote",[e("p",[t._v("使用场景：(日期在我点击查询的时候要存储,刷新就读内存,但是我点击其他页面再进来的时候,这个内存要清空)")])])]),t._v(" "),e("li",[e("p",[t._v("destroyed：Vue 实例销毁后调用。调用后，Vue 实例指示的所有东西都会解绑定，所有的事件监听器会被移除，所有的子实例也会被销毁。")])])]),t._v(" "),e("h3",{attrs:{id:"_2-2-vue-的父组件和子组件生命周期钩子函数执行顺序？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-vue-的父组件和子组件生命周期钩子函数执行顺序？"}},[t._v("#")]),t._v(" 2.2 Vue 的父组件和子组件生命周期钩子函数执行顺序？")]),t._v(" "),e("blockquote",[e("p",[t._v("Vue 的父组件和子组件生命周期钩子函数执行顺序可以归类为以下 4 部分：")])]),t._v(" "),e("ul",[e("li",[e("p",[t._v("加载渲染过程")]),t._v(" "),e("blockquote",[e("p",[t._v("父 beforeCreate -> 父 created -> 父 beforeMount -> 子 beforeCreate -> 子 created -> 子 beforeMount -> 子 mounted -> 父 mounted")])])]),t._v(" "),e("li",[e("p",[t._v("子组件更新过程")]),t._v(" "),e("blockquote",[e("p",[t._v("父 beforeUpdate -> 子 beforeUpdate -> 子 updated -> 父 updated")])])]),t._v(" "),e("li",[e("p",[t._v("父组件更新过程")]),t._v(" "),e("blockquote",[e("p",[t._v("父 beforeUpdate -> 父 updated")])])]),t._v(" "),e("li",[e("p",[t._v("销毁过程")]),t._v(" "),e("blockquote",[e("p",[t._v("父 beforeDestroy -> 子 beforeDestroy -> 子 destroyed -> 父 destroyed")])])])]),t._v(" "),e("h3",{attrs:{id:"_2-3-在哪个生命周期内调用异步请求？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-在哪个生命周期内调用异步请求？"}},[t._v("#")]),t._v(" 2.3 在哪个生命周期内调用异步请求？")]),t._v(" "),e("p",[t._v("可以在钩子函数 created、beforeMount、mounted 中进行调用，因为在这三个钩子函数中，data 已经创建，可以将服务端端返回的数据进行赋值。但是本人推荐在 created 钩子函数中调用异步请求，因为在 created 钩子函数中调用异步请求有以下优点：")]),t._v(" "),e("p",[t._v("能更快获取到服务端数据，减少页面  loading 时间；\nssr  不支持 beforeMount 、mounted 钩子函数，所以放在 created 中有助于一致性；")]),t._v(" "),e("h3",{attrs:{id:"_2-4-在什么阶段才能访问操作-dom？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-在什么阶段才能访问操作-dom？"}},[t._v("#")]),t._v(" 2.4 在什么阶段才能访问操作 DOM？")]),t._v(" "),e("p",[t._v("在钩子函数 mounted 被调用前，Vue 已经将编译好的模板挂载到页面上，所以在 mounted 中可以访问操作 DOM。"),e("br"),t._v("\nvue 具体的生命周期示意图可以参见如下，理解了整个生命周期各个阶段的操作，关于生命周期相关的面试题就难不倒你了。")]),t._v(" "),e("p",[e("img",{attrs:{src:a(359),alt:"image"}})]),t._v(" "),e("h3",{attrs:{id:"_2-5-父组件可以监听到子组件的生命周期吗？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-父组件可以监听到子组件的生命周期吗？"}},[t._v("#")]),t._v(" 2.5 父组件可以监听到子组件的生命周期吗？")]),t._v(" "),e("p",[t._v("比如有父组件 Parent 和子组件 Child，如果父组件监听到子组件挂载 mounted 就做一些逻辑处理，可以通过以下写法实现：")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Parent.vue")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("\nChild @mounted "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"doSomething"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Child.vue")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("mounted")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("$emit")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mounted"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br")])]),e("p",[t._v("以上需要手动通过 $emit 触发父组件的事件，更简单的方式可以在父组件引用子组件时通过 @hook 来监听即可，如下所示：")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Parent.vue")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Child @hook"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" mounted "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"doSomething"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Child"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("doSomething")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'父组件监听到 mounted 钩子函数 ...'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Child.vue")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("mounted")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'子组件触发 mounted 钩子函数 ...'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 以上输出顺序为：")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 子组件触发 mounted 钩子函数 ...")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 父组件监听到 mounted 钩子函数 ...")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br")])]),e("p",[t._v("当然 @hook 方法不仅仅是可以监听 mounted，其它的生命周期事件，例如：created，updated 等都可以监听。")]),t._v(" "),e("h3",{attrs:{id:"_2-6-何时需要使用-beforedestroy"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-何时需要使用-beforedestroy"}},[t._v("#")]),t._v(" 2.6 何时需要使用 beforeDestroy")]),t._v(" "),e("ul",[e("li",[t._v("① 解绑自定义事件 event.$off")]),t._v(" "),e("li",[t._v("② 消除定时器")]),t._v(" "),e("li",[t._v("③ 解绑自定义的 DOM 事件 如 window.scroll 等")])]),t._v(" "),e("h3",{attrs:{id:"_4-computed-和-watch-的区别"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-computed-和-watch-的区别"}},[t._v("#")]),t._v(" 4.computed 和 watch 的区别")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("1.computed 是计算属性， 只有它依赖的属性值发生改变，下一次获取 computed 的值时才会重新计算 computed 的值；")]),t._v(" "),e("p",[t._v("2.computed 作用：就是简化 tempalte 里面{{}}计算和处理 props 或$emit 的传值,\n3.computed 具有缓存性，页面重新渲染值不变化, 计算属性会立即返回之前的计算结果，而不必再次执行函数")])]),t._v(" "),e("li",[e("p",[t._v("1.watch 是观察的动作， 每当监听的数据变化时都会执行回调进行后续操作；")]),t._v(" "),e("p",[t._v("2.watch 作用：监听 props，$emit 或本组件的值执行异步操作"),e("br"),t._v("\n3.watch 无缓存性，页面重新渲染时值不变化也会执行")])]),t._v(" "),e("li",[e("p",[t._v("运用场景：")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("当我们需要进行数值计算，并且依赖于其它数据时，应该使用 computed，因为可以利用 computed 的缓存特性，避免每次获取值时，都要重新计算；")])]),t._v(" "),e("li",[e("p",[t._v("当我们需要在数据变化时执行异步或开销较大的操作时，应该使用 watch，使用  watch  选项允许我们执行异步操作 ( 访问一个 API )，限制我们执行该操作的频率，并在我们得到最终结果前，设置中间状态。这些都是计算属性无法做到的。")])])])])]),t._v(" "),e("h3",{attrs:{id:"_4-1-computed-的实现原理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-computed-的实现原理"}},[t._v("#")]),t._v(" 4.1 computed 的实现原理")]),t._v(" "),e("p",[t._v("computed 本质是一个惰性求值的观察者。\ncomputed 内部实现了一个惰性的 watcher, 也就是 computed watcher, computed watcher 不会立刻求值, 同时持有一个 dep 实例。\n其内部通过 this.dirty 属性标记计算属性是否需要重新求值。\n当 computed 的依赖状态发生改变时, 就会通知这个惰性的 watcher,\ncomputed watcher 通过 this.dep.subs.length 判断有没有订阅者,\n有的话, 会重新计算, 然后对比新旧值, 如果变化了, 会重新渲染。 (Vue 想确保不仅仅是计算属性依赖的值发生变化，而是当计算属性最终计算的值发生变化时才会触发渲染 watcher 重新渲染，本质上是一种优化。)\n没有的话, 仅仅把 this.dirty = true。 (当计算属性依赖于其他数据时，属性并不会立即重新计算，只有之后其他地方需要读取属性的时候，它才会真正计算，即具备 lazy（懒计算）特性。)")]),t._v(" "),e("h3",{attrs:{id:"_4-2-watch-中的-deep-true-是如何实现的"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-watch-中的-deep-true-是如何实现的"}},[t._v("#")]),t._v(" 4.2 Watch 中的 deep:true 是如何实现的")]),t._v(" "),e("p",[t._v("当用户指定了 watch 中的 deep 属性为 true 时\n监听器会一层层的往下遍历，给对象的所有属性都加上这个监听器\n如果当前监控的值是数组类型。会对对象中的每一项进行求值，此时会将当前 watcher 存入到对应属性的依赖中，这样数组中对象发生变化时也会通知数据更新")]),t._v(" "),e("h3",{attrs:{id:"_5-vue-双向绑定及原理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-vue-双向绑定及原理"}},[t._v("#")]),t._v(" 5.vue 双向绑定及原理")]),t._v(" "),e("ul",[e("li",[t._v("1 、vue2.0 是通过数据劫持以及结合发布者-订阅者来实现的，数据劫持是利用 ES5 的 Object.defineProperty(obj, key, val)来劫持各个属性的的 setter 以及 getter，在数据变动时发布消息给订阅者，从而触发相应的回调来更新视图。")]),t._v(" "),e("li",[t._v("2、vue3.0 proxy: Proxy 的劫持手段则是直接监听 data 的所有域值, Proxy 构造函数的第一个参数是原始数据 data；第二个参数是一个叫"),e("a",{attrs:{href:"https://links.jianshu.com/go?to=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FJavaScript%2FReference%2FGlobal_Objects%2FProxy%2Fhandler",target:"_blank",rel:"noopener noreferrer"}},[t._v("handler"),e("OutboundLink")],1),t._v("的处理器对象。Handler 是一系列的代理方法集合，它的作用是拦截所有发生在 data 数据上的操作。")])]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("、 发布者 "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 订阅者模式（ backbone"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js）\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("、 脏值检查（ angular"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js）\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("、 数据劫持（ vue"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br")])]),e("p",[t._v("Object.defineProperty 无法检测到对象属性的新增或删除")]),t._v(" "),e("p",[t._v("Object.defineProperty 不能监听数组的变化")]),t._v(" "),e("p",[t._v("Proxy 直接代理整个对象而非对象属性")]),t._v(" "),e("p",[t._v("Proxy 也可以监听数组的变化")]),t._v(" "),e("p",[t._v("详解："),e("a",{attrs:{href:"https://www.cnblogs.com/wonyun/p/11699397.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.cnblogs.com/wonyun/p/11699397.html"),e("OutboundLink")],1)]),t._v(" "),e("h3",{attrs:{id:"_5-1-直接给一个数组项赋值，vue-能检测到变化吗？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-直接给一个数组项赋值，vue-能检测到变化吗？"}},[t._v("#")]),t._v(" 5.1 直接给一个数组项赋值，Vue 能检测到变化吗？")]),t._v(" "),e("p",[t._v("由于 JavaScript 的限制，Vue 不能检测到以下数组的变动：")]),t._v(" "),e("p",[t._v("当你利用索引直接设置一个数组项时，例如： "),e("code",[t._v("vm.items[indexOfItem] = newValue")]),t._v("\n当你修改数组的长度时，例如： "),e("code",[t._v("vm.items.length = newLength")])]),t._v(" "),e("p",[t._v("为了解决第一个问题，Vue 提供了以下操作方法：")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Vue.set")]),t._v("\nVue"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("items"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" indexOfItem"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" newValue"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// vm.$set，Vue.set的一个别名")]),t._v("\nvm"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("items"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" indexOfItem"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" newValue"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Array.prototype.splice")]),t._v("\nvm"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("items"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("splice")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("indexOfItem"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" newValue"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br")])]),e("p",[t._v("为了解决第二个问题，Vue 提供了以下操作方法："),e("br"),t._v(" "),e("code",[t._v("// Array.prototype.splice")]),t._v(" "),e("code",[t._v("vm.items.splice(newLength)")])]),t._v(" "),e("h3",{attrs:{id:"_5-2-vue-监听数组变化三部曲"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-vue-监听数组变化三部曲"}},[t._v("#")]),t._v(" 5.2 vue 监听数组变化三部曲")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("第一步：先获取原生 Array 的原型方法，因为拦截后还是需要原生的方法帮我们实现数组的变化。")])]),t._v(" "),e("li",[e("p",[t._v("第二步：对 Array 的原型方法使用 Object.defineProperty 做一些拦截操作。")])]),t._v(" "),e("li",[e("p",[t._v("第三步：把需要被拦截的 Array 类型的数据原型指向改造后原型。")])])]),t._v(" "),e("h3",{attrs:{id:"_5-3-v-model-的原理？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-v-model-的原理？"}},[t._v("#")]),t._v(" 5.3 v-model 的原理？")]),t._v(" "),e("p",[t._v("我们在 vue 项目中主要使用 v-model 指令在表单 input、textarea、select 等元素上创建双向数据绑定，我们知道 v-model 本质上不过是语法糖，v-model 在内部为不同的输入元素使用不同的属性并抛出不同的事件：")]),t._v(" "),e("ul",[e("li",[t._v("text 和 textarea 元素使用 value 属性和 input 事件；")]),t._v(" "),e("li",[t._v("checkbox 和 radio 使用 checked 属性和 change 事件；")]),t._v(" "),e("li",[t._v("select 字段将 value 作为 prop 并将 change 作为事件。")])]),t._v(" "),e("p",[t._v("以 input 表单元素为例：\n"),e("code",[t._v("<input v-model='something'>")])]),t._v(" "),e("p",[t._v("相当于")]),t._v(" "),e("p",[e("code",[t._v('<input v-bind:value="something" v-on:input="something = $event.target.value">')]),t._v("\n如果在自定义组件中，v-model 默认会利用名为  value 的 prop 和名为  input  的事件，如下所示：\n父组件：\n"),e("code",[t._v('<ModelChild v-model="message"></ModelChild>')])]),t._v(" "),e("p",[t._v("子组件：")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" div "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    value\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\nprops"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    value"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" String\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  methods"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("test1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\\"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("$emit")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'input'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'小红'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br")])]),e("h3",{attrs:{id:"_5-4-vue-是如何实现数据双向绑定的？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-4-vue-是如何实现数据双向绑定的？"}},[t._v("#")]),t._v(" 5.4 Vue 是如何实现数据双向绑定的？")]),t._v(" "),e("ul",[e("li",[t._v("Vue 数据双向绑定主要是指：数据变化更新视图，视图变化更新数据，\n如下图所示：")])]),t._v(" "),e("p",[t._v("即：输入框内容变化时，Data 中的数据同步变化。即 View => Data 的变化。\nData 中的数据变化时，文本节点的内容同步变化。即 Data => View 的变化。")]),t._v(" "),e("p",[t._v("其中，View  变化更新  Data ，可以通过事件监听的方式来实现，所以 Vue 的数据双向绑定的工作主要是如何根据  Data  变化更新  View。\nVue 主要通过以下 4 个步骤来实现数据双向绑定的：\n实现一个监听器 Observer：对数据对象进行遍历，包括子属性对象的属性，利用 Object.defineProperty() 对属性都加上 setter 和 getter。这样的话，给这个对象的某个值赋值，就会触发 setter，那么就能监听到了数据变化。\n实现一个解析器 Compile：解析 Vue 模板指令，将模板中的变量都替换成数据，然后初始化渲染页面视图，并将每个指令对应的节点绑定更新函数，添加监听数据的订阅者，一旦数据有变动，收到通知，调用更新函数进行数据更新。\n实现一个订阅者 Watcher：Watcher 订阅者是 Observer 和 Compile 之间通信的桥梁 ，主要的任务是订阅 Observer 中的属性值变化的消息，当收到属性值变化的消息时，触发解析器 Compile 中对应的更新函数。\n实现一个订阅器 Dep：订阅器采用 发布-订阅 设计模式，用来收集订阅者 Watcher，对监听器 Observer 和 订阅者 Watcher 进行统一管理。\n以上四个步骤的流程图表示如下，如果有同学理解不大清晰的，\n可以查看作者专门介绍数据双向绑定的文章《0 到 1 掌握：Vue 核心之数据双向绑定》"),e("a",{attrs:{href:"https://juejin.im/post/5d421bcf6fb9a06af23853f1",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://juejin.im/post/5d421bcf6fb9a06af23853f1"),e("OutboundLink")],1),t._v("，有进行详细的讲解、以及代码 demo 示例。")]),t._v(" "),e("h3",{attrs:{id:"_5-4-vue-框架怎么实现对象和数组的监听？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-4-vue-框架怎么实现对象和数组的监听？"}},[t._v("#")]),t._v(" 5.4 Vue 框架怎么实现对象和数组的监听？")]),t._v(" "),e("blockquote",[e("p",[t._v("如果被问到 Vue 怎么实现数据双向绑定，大家肯定都会回答 通过 Object.defineProperty() 对数据进行劫持，但是 Object.defineProperty() 只能对属性进行数据劫持，不能对整个对象进行劫持，同理无法对数组进行劫持，但是我们在使用 Vue 框架中都知道，Vue 能检测到对象和数组（部分方法的操作）的变化，那它是怎么实现的呢？我们查看相关代码如下：")])]),t._v(" "),e("div",{staticClass:"language-JS line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*\n  Observe a list of Array items.\n  */")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("observeArray")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("items"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Array "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" any "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" i "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" l "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" items"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" l"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("observe")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("items"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// observe 功能为监测数据的变化")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*\n  对属性进行递归遍历\n  */")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" childOb "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("shallow "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("observe")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("val"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// observe 功能为监测数据的变化")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br")])]),e("p",[t._v("通过以上 Vue 源码部分查看，我们就能知道 Vue 框架是通过遍历数组 和递归遍历对象，从而达到利用 Object.defineProperty() 也能对对象和数组（部分方法的操作）进行监听。")]),t._v(" "),e("h3",{attrs:{id:"_5-5-proxy-与-object-defineproperty-优劣对比"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-5-proxy-与-object-defineproperty-优劣对比"}},[t._v("#")]),t._v(" 5.5 Proxy 与 Object.defineProperty 优劣对比")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("Proxy 的优势如下:")]),t._v(" "),e("blockquote",[e("p",[t._v("Proxy 可以直接监听对象而非属性；\nProxy 可以直接监听数组的变化；\nProxy 有多达 13 种拦截方法, 不限于 apply、ownKeys、deleteProperty、has 等等是 Object.defineProperty 不具备的；\nProxy 返回的是一个新对象, 我们可以只操作新的对象达到目的, 而 Object.defineProperty 只能遍历对象属性直接修改；\nProxy 作为新标准将受到浏览器厂商重点持续的性能优化，也就是传说中的新标准的性能红利；")])])]),t._v(" "),e("li",[e("p",[t._v("Object.defineProperty 的优势如下:")]),t._v(" "),e("blockquote",[e("p",[t._v("兼容性好，支持 IE9，而 Proxy 的存在浏览器兼容性问题, 而且无法用 polyfill 磨平，因此 Vue 的作者才声明需要等到下个大版本( 3.0 )才能用 Proxy 重写。")])])])]),t._v(" "),e("h3",{attrs:{id:"_5-6-vue-怎么用-vm-set-解决对象新增属性不能响应的问题-？-vm-set-的实现原理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-6-vue-怎么用-vm-set-解决对象新增属性不能响应的问题-？-vm-set-的实现原理"}},[t._v("#")]),t._v(" 5.6 Vue 怎么用 vm.$set() 解决对象新增属性不能响应的问题 ？(vm.$set 的实现原理)")]),t._v(" "),e("blockquote",[e("p",[t._v("受现代 JavaScript 的限制 ，Vue  无法检测到对象属性的添加或删除。由于 Vue 会在初始化实例时对属性执行 getter/setter 转化，所以属性必须在 data  对象上存在才能让 Vue 将它转换为响应式的。但是 Vue 提供了 Vue.set (object, propertyName, value) / vm.$set (object, propertyName, value) 来实现为对象添加响应式属性，那框架本身是如何实现的呢？\n我们查看对应的 Vue 源码：vue/src/core/instance/index.js")])]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("target"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Array "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" any "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Object"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" any"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" val"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" any")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" any "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// target 为数组")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Array"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("isArray")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("isValidArrayIndex")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 修改数组的长度, 避免索引>数组长度导致splcie()执行有误")]),t._v("\n    target"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Math"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("max")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 利用数组的splice变异方法触发响应式")]),t._v("\n    target"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("splice")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" val"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" val\n\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// key 已经存在，直接修改属性值")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" target "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    target"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" val\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" val\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" ob "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" any"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("**")]),t._v(" ob "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("**")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// target 本身就不是响应式数据, 直接赋值")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("ob"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      target"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" val\n      "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" val\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 对属性进行响应式处理")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineReactive")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ob"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" val"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  ob"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dep"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("notify")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" val\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br"),e("span",{staticClass:"line-number"},[t._v("16")]),e("br"),e("span",{staticClass:"line-number"},[t._v("17")]),e("br"),e("span",{staticClass:"line-number"},[t._v("18")]),e("br"),e("span",{staticClass:"line-number"},[t._v("19")]),e("br"),e("span",{staticClass:"line-number"},[t._v("20")]),e("br"),e("span",{staticClass:"line-number"},[t._v("21")]),e("br"),e("span",{staticClass:"line-number"},[t._v("22")]),e("br"),e("span",{staticClass:"line-number"},[t._v("23")]),e("br"),e("span",{staticClass:"line-number"},[t._v("24")]),e("br"),e("span",{staticClass:"line-number"},[t._v("25")]),e("br"),e("span",{staticClass:"line-number"},[t._v("26")]),e("br"),e("span",{staticClass:"line-number"},[t._v("27")]),e("br")])]),e("p",[t._v("我们阅读以上源码可知，vm.$set 的实现原理是：")]),t._v(" "),e("p",[t._v("如果目标是数组，直接使用数组的 splice 方法触发相应式；")]),t._v(" "),e("p",[t._v("如果目标是对象，会先判读属性是否存在、对象是否是响应式，最终如果要对属性进行响应式处理，则是通过调用 defineReactive 方法进行响应式处理（ defineReactive 方法就是 Vue 在初始化对象时，给对象属性采用 Object.defineProperty 动态添加 getter 和 setter 的功能所调用的方法）")]),t._v(" "),e("h3",{attrs:{id:"_6-vue2-0-和-3-0-区别"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-vue2-0-和-3-0-区别"}},[t._v("#")]),t._v(" 6.vue2.0 和 3.0 区别")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("1、3.0 新加入了 TypeScript 以及 PWA 的支持")])]),t._v(" "),e("li",[e("p",[t._v("2、部分命令发生了变化：")]),t._v(" "),e("p",[t._v("下载安装 npm install -g vue@cli\n删除了 vue list\n创建项目 vue create\n启动项目 npm run serve")])]),t._v(" "),e("li",[e("p",[t._v("3、默认项目目录结构也发生了变化：")]),t._v(" "),e("p",[t._v("vue-cli3.0 移除了配置文件目录， "),e("code",[t._v("config")]),t._v(" 和 "),e("code",[t._v("build")]),t._v(" 文件夹")]),t._v(" "),e("p",[t._v("同时移除了 "),e("code",[t._v("static")]),t._v(" 静态文件夹，新增了 "),e("code",[t._v("public")]),t._v(" 文件夹，打开层级目录还会发现， "),e("code",[t._v("index.html")]),t._v(" 移动到 "),e("code",[t._v("public")]),t._v(" 中")])]),t._v(" "),e("li",[e("p",[t._v("4、监测机制的改变")]),t._v(" "),e("blockquote",[e("p",[t._v("Vue2.x 大家都知道使用的是 es5 的 object.defineproperties 中 getter 和 setter 实现的，\n而 vue3.0 的版本，是基于 Proxy 进行监听的，其实基于 proxy 监听就是所谓的 lazy by default，什么意思呢，就是只要你用到了才会监听，可以理解为‘按需监听’，官方给出的诠释是：速度加倍，同时内存占用还减半。\n消除了 Vue 2 当中基于 Object.defineProperty 的实现所存在的很多限制：")]),t._v(" "),e("blockquote",[e("p",[t._v("只能监测属性，不能监测对象\n检测属性的添加和删除；\n检测数组索引和长度的变更；\n支持 Map、Set、WeakMap 和 WeakSet。")])])])]),t._v(" "),e("li",[e("p",[t._v("5、按需引入")]),t._v(" "),e("p",[t._v("Vue2.x 中 new 出的实例对象，所有的东西都在这个 vue 对象上，这样其实无论你用到还是没用到，都会跑一变。而 vue3.0 中可以用 ES module imports 按需引入，如：keep-alive 内置组件、v-model 指令，等等。")])]),t._v(" "),e("li",[e("ol",{attrs:{start:"6"}},[e("li",[e("p",[t._v("模板")]),t._v(" "),e("p",[t._v("模板方面没有大的变更，只改了作用域插槽，2.x 的机制导致作用域插槽变了，父组件会重新渲染，而 3.0 把作用域插槽改成了函数的方式，这样只会影响子组件的重新渲染，提升了渲染的性能。同时，对于 render 函数的方面，vue3.0 也会进行一系列更改来方便习惯直接使用 api 来生成 vdom 。")])])])]),t._v(" "),e("li",[e("ol",{attrs:{start:"7"}},[e("li",[e("p",[t._v("对象式的组件声明方式")]),t._v(" "),e("p",[t._v("vue2.x 中的组件是通过声明的方式传入一系列 option，和 TypeScript 的结合需要通过一些装饰器的方式来做，虽然能实现功能，但是比较麻烦。3.0 修改了组件的声明方式，改成了类式的写法，这样使得和 TypeScript 的结合变得很容易。\n此外，vue 的源码也改用了 TypeScript 来写。其实当代码的功能复杂之后，必须有一个静态类型系统来做一些辅助管理。现在 vue3.0 也全面改用 TypeScript 来重写了，更是使得对外暴露的 api 更容易结合 TypeScript。静态类型系统对于复杂代码的维护确实很有必要。")])])])]),t._v(" "),e("li",[e("ol",{attrs:{start:"8"}},[e("li",[e("p",[t._v("其它方面的更改")]),t._v(" "),e("p",[t._v("vue3.0 的改变是全面的，上面只涉及到主要的 3 个方面，还有一些其他的更改：")]),t._v(" "),e("blockquote",[e("p",[t._v("支持自定义渲染器，从而使得 weex 可以通过自定义渲染器的方式来扩展，而不是直接 fork 源码来改的方式。\n支持 Fragment（多个根节点）和 Protal（在 dom 其他部分渲染组建内容）组件，针对一些特殊的场景做了处理。\n基于 treeshaking 优化，提供了更多的内置功能。")])])])])])]),t._v(" "),e("h3",{attrs:{id:"_7-proxy-的原理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_7-proxy-的原理"}},[t._v("#")]),t._v(" 7.proxy 的原理")]),t._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("var proxy = new Proxy(target, handler);\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[t._v("target 是用 Proxy 包装的被代理对象（可以是任何类型的对象，包括原生数组，函数，甚至另一个代理）。")]),t._v(" "),e("p",[t._v("handler 是一个对象，其声明了代理 target 的一些操作，其属性是当执行一个操作时定义代理的行为的函数。")]),t._v(" "),e("p",[t._v("通俗的说 Proxy 在数据外层套了个壳，然后通过这层壳访问内部的数据")]),t._v(" "),e("p",[t._v("详解："),e("a",{attrs:{href:"https://segmentfault.com/a/1190000019198822",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://segmentfault.com/a/1190000019198822"),e("OutboundLink")],1)]),t._v(" "),e("h3",{attrs:{id:"_8-vue-首屏优化"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_8-vue-首屏优化"}},[t._v("#")]),t._v(" 8.vue 首屏优化")]),t._v(" "),e("ul",[e("li",[t._v("1、ui 库按需加载方式")]),t._v(" "),e("li",[t._v("2、路由懒加载，（vue 组件异步加载） import 或者 require")]),t._v(" "),e("li",[t._v("3、服务端开启 gzip 压缩")]),t._v(" "),e("li",[t._v("4、CDN 优化")])]),t._v(" "),e("h3",{attrs:{id:"_9-react-与-vue-的区别"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_9-react-与-vue-的区别"}},[t._v("#")]),t._v(" 9.react 与 vue 的区别")]),t._v(" "),e("ul",[e("li",[t._v("两者本质的区别：模板和组件化的区别\n"),e("ul",[e("li",[t._v("Vue 本质是 MVVM 框架，由 MVC 发展而来；React 是前端组件化框架，由后端组件化发展而来，React 本身，是严格的 view 层，MVC 模式；")]),t._v(" "),e("li",[t._v("vue 的数据双向绑定和单向数据流 react 没有数据双向绑定，react 是单向数据流（组件之间的通信采用单向数据流是为了组件间更好的解耦）")]),t._v(" "),e("li",[t._v("react 中的状态管理：Flux， vue 中的状态管理 vuex")]),t._v(" "),e("li",[t._v("模板：Vue 使用模板, React 使用 JSX")]),t._v(" "),e("li",[t._v("构建工具：vue：vue-cli，react：create-react-app 项目名")]),t._v(" "),e("li",[t._v("团队支持：vue：尤雨溪个人，目前和阿里合作，react：facebook 维护")])])]),t._v(" "),e("li",[t._v("共同点：\n"),e("ul",[e("li",[t._v("都支持组件化，都是数据驱动视图")])])])]),t._v(" "),e("h3",{attrs:{id:"_9-1-react-和-vue-的选择"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_9-1-react-和-vue-的选择"}},[t._v("#")]),t._v(" 9.1 react 和 vue 的选择")]),t._v(" "),e("ul",[e("li",[t._v("如果你喜欢简单和“能用就行”的东西，请选择 Vue")]),t._v(" "),e("li",[t._v("如果你想要你的应用尽可能的小和快，请选择 Vue")]),t._v(" "),e("li",[t._v("如果你想要用模板搭建应用——选择 Vue")]),t._v(" "),e("li",[t._v("如果你打算构建一个大型应用程序，请选择 React")]),t._v(" "),e("li",[t._v("如果你想要一个同时适用于 Web 端和原生 APP 的框架，请选择 React")]),t._v(" "),e("li",[t._v("如果你想要最大的生态系统，请选择 React")])]),t._v(" "),e("h3",{attrs:{id:"_10-jquery-与-vue-区别"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_10-jquery-与-vue-区别"}},[t._v("#")]),t._v(" "),e("strong",[t._v("10.jQuery 与 Vue 区别")])]),t._v(" "),e("p",[t._v("1.jQuery 首先要获取到 dom 对象，然后对 dom 对象进行进行值的修改等操作")]),t._v(" "),e("p",[t._v("jQuery 专注视图层（样式操作，动画效果），通过操作 DOM 去实现页面的一些逻辑渲染；\nVue 专注于数据层，通过数据的双向绑定，最终表现在 DOM 层面，减少了 DOM 操作。\nVue 使用了组件化思想，使得项目子集职责清晰，提高了开发效率，方便重复利用，便于协同开发。")]),t._v(" "),e("h3",{attrs:{id:"_11-vue-data-为什么要-return"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_11-vue-data-为什么要-return"}},[t._v("#")]),t._v(" 11.vue data 为什么要 return")]),t._v(" "),e("blockquote",[e("p",[t._v("为什么组件中的 data 必须是一个函数，然后 return 一个对象，而 new Vue 实例里，data 可以直接是一个对象？")])]),t._v(" "),e("blockquote",[e("p",[t._v("不使用 return 包裹的数据会在项目的全局可见，会造成变量污染；使用 return 包裹后数据中变量只在当前组件中生效，不会影响其他组件。\n因为组件是用来复用的，且 JS 里对象是引用关系，如果组件中 data 是一个对象，那么这样作用域没有隔离，子组件中的 data 属性值会相互影响，如果组件中 data 选项是一个函数，那么每个实例可以维护一份被返回对象的独立的拷贝，组件实例之间的 data 属性值不会互相影响；而 new Vue 的实例，是不会被复用的，因此不存在引用对象的问题。")])]),t._v(" "),e("h3",{attrs:{id:"_12-从-0-到-1-自己构架一个-vue-项目，说说有哪些步骤、哪些重要插件、目录结构你会怎么组织"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_12-从-0-到-1-自己构架一个-vue-项目，说说有哪些步骤、哪些重要插件、目录结构你会怎么组织"}},[t._v("#")]),t._v(" 12. 从 0 到 1 自己构架一个 vue 项目，说说有哪些步骤、哪些重要插件、目录结构你会怎么组织")]),t._v(" "),e("blockquote",[e("p",[t._v("vue-cli 实际上已经很成熟了，目录除了脚手架默认的，")])]),t._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("1、一般会额外创建 views，components，api，utils，stores 等；\n2、下载重要插件，比如 axios，dayjs（moment 太大），其他的会根据项目需求补充；\n3、封装 axios，统一 api 调用风格和基本配置；\n4、如果有国际化需求，配置国际化；\n5、开发，测试和正式环境配置，一般不同环境 API 接口基础路径会不一样；\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br")])]),e("h3",{attrs:{id:"_13-怎么给-vue-定义全局的方法？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_13-怎么给-vue-定义全局的方法？"}},[t._v("#")]),t._v(" 13. 怎么给 vue 定义全局的方法？")]),t._v(" "),e("blockquote",[e("p",[t._v("第一种：挂载到 Vue 的 prototype 上。把全局方法写到一个文件里面，然后 for 循环挂载到 Vue 的 prototype 上，缺点是调用这个方法的时候没有提示"),e("br"),t._v("\n第二种：利用全局混入 mixin，因为 mixin 里面的 methods 会和创建的每个单文件组件合并。这样做的优点是调用这个方法的时候有提示")])]),t._v(" "),e("h3",{attrs:{id:"_14-使用-vue-后怎么针对搜索引擎做-seo-优化？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_14-使用-vue-后怎么针对搜索引擎做-seo-优化？"}},[t._v("#")]),t._v(" 14. 使用 vue 后怎么针对搜索引擎做 SEO 优化？")]),t._v(" "),e("blockquote",[e("p",[t._v("ssr, 即单页面后台渲染"),e("br"),t._v("\nvue-meta-info 与 prerender-spa-plugin 预渲染"),e("br"),t._v("\nnuxt"),e("br"),t._v("\nphantomjs")])]),t._v(" "),e("h3",{attrs:{id:"_15-vue-中怎么重置-data？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_15-vue-中怎么重置-data？"}},[t._v("#")]),t._v(" 15.vue 中怎么重置 data？")]),t._v(" "),e("blockquote",[e("p",[t._v("初始状态下设置 data 数据的默认值，重置时直接 bject.assign(this.$data, this.$options.data())"),e("br"),t._v("\n说明："),e("br"),t._v("\nthis.$data获取当前状态下的data"),e("br"),t._v("\nthis.$options.data()获取该组件初始状态下的 data(即初始默认值)"),e("br"),t._v("\n如果只想修改 data 的某个属性值，可以 this[属性名] = this.$options.data()[属性名]，如this.message = this.$options.data().message")])]),t._v(" "),e("h3",{attrs:{id:"_16-在-vue-文件中-style-是必须的吗？那-script-是必须的吗？为什么？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_16-在-vue-文件中-style-是必须的吗？那-script-是必须的吗？为什么？"}},[t._v("#")]),t._v(" 16. 在.vue 文件中 style 是必须的吗？那 script 是必须的吗？为什么？")]),t._v(" "),e("blockquote",[e("p",[t._v("都不是必须的"),e("br"),t._v("\n如果是普通组件那么只能是一个静态 html"),e("br"),t._v("\n如果是函数式组件， 那么可以直接使用 props 等函数式组件属性")])]),t._v(" "),e("h3",{attrs:{id:"_17-ref-和-ref-的作用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_17-ref-和-ref-的作用"}},[t._v("#")]),t._v(" 17.ref 和$ref 的作用")]),t._v(" "),e("blockquote",[e("p",[t._v("ref 被用来给元素或子组件注册引用信息。引用信息将会注册在父组件的 $refs 对象上\n应用场景：（1）父组件 通过 ref 获取子组件来进行操作\n(2) 指向 添加 ref 的 dom 元素 比如在 element ui 中表单验证 就是这样的机制")])]),t._v(" "),e("h3",{attrs:{id:"_18-v-show-与-v-if-有什么区别？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_18-v-show-与-v-if-有什么区别？"}},[t._v("#")]),t._v(" 18.v-show 与 v-if 有什么区别？")]),t._v(" "),e("ul",[e("li",[e("ol",[e("li",[t._v("手段：")])]),t._v(" "),e("blockquote",[e("p",[t._v("v-if 是通过控制 dom 节点的存在与否来控制元素的显隐；\nv-show 是通过设置 DOM 元素的 display 样式，block 为显示，none 为隐藏；")])])]),t._v(" "),e("li",[e("ol",{attrs:{start:"2"}},[e("li",[t._v("编译过程：")])]),t._v(" "),e("blockquote",[e("p",[t._v("v-if 切换有一个局部编译/卸载的过程，切换过程中合适地销毁和重建内部的事件监听和子组件；\nv-show 只是简单的基于 css 切换；")])])]),t._v(" "),e("li",[e("ol",{attrs:{start:"3"}},[e("li",[t._v("编译条件：")])]),t._v(" "),e("blockquote",[e("p",[t._v("v-if 是惰性的，如果初始条件为假，则什么也不做；只有在条件第一次变为真时才开始局部编译（编译被缓存？编译被缓存后，然后再切换的时候进行局部卸载);\nv-show 是在任何条件下（首次条件是否为真）都被编译，然后被缓存，而且 DOM 元素保留；")])])]),t._v(" "),e("li",[e("ol",{attrs:{start:"4"}},[e("li",[t._v("性能消耗：")])]),t._v(" "),e("blockquote",[e("p",[t._v("v-if 有更高的切换消耗；\nv-show 有更高的初始渲染消耗；")])])]),t._v(" "),e("li",[e("p",[t._v("使用场景：")]),t._v(" "),e("blockquote",[e("p",[t._v("如果需要非常频繁地切换，则使用 v-show 较好；如果在运行时条件很少改变，则使用 v-if 较好。v-if 判断是否加载，可以减轻服务器的压力，在需要时加载, 但有更高的切换开销")])])])]),t._v(" "),e("h3",{attrs:{id:"_18-1-为什么-v-if-和-v-for-不能连用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_18-1-为什么-v-if-和-v-for-不能连用"}},[t._v("#")]),t._v(" 18.1 为什么 v-if 和 v-for 不能连用")]),t._v(" "),e("blockquote",[e("p",[t._v("v-for 的优先级比 v-if 高一些。\n因为在 vue 中会优先执行 v-for, 当 v-for 把所有内容全部遍历之后 , v-if 再对已经遍历的元素进行删除 , 造成了加载的浪费 , 所以应该在执行 v-for 之前优先执行 v-if , 可以减少加载的压力\n解决办法：")])]),t._v(" "),e("ul",[e("li",[e("p",[t._v("1.当控制 v-if 的元素不存在 v-for 中 , 可以使用 template 包裹住对应的 v-for , 也可以使用父级元素添加 v-if , 可以不加载从而优化性能")])]),t._v(" "),e("li",[e("p",[t._v("2.如果 v-if 控制的元素存在 v-for 中 , 可以通过使用计算器属性来回避 , 比如使用计算器属性在页面加载之前进行一边过滤")])])]),t._v(" "),e("h3",{attrs:{id:"_19-vue-组件间通信有哪几种方式？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_19-vue-组件间通信有哪几种方式？"}},[t._v("#")]),t._v(" 19. Vue 组件间通信有哪几种方式？")]),t._v(" "),e("blockquote",[e("p",[t._v("Vue 组件间通信是面试常考的知识点之一，这题有点类似于开放题，你回答出越多方法当然越加分，表明你对 Vue 掌握的越熟练。\nVue 组件间通信只要指以下 3 类通信：父子组件通信、隔代组件通信、兄弟组件通信，下面我们分别介绍每种通信方式且会说明此种方法可适用于哪类组件间通信。")])]),t._v(" "),e("ul",[e("li",[e("p",[t._v("（1）props / $emit 适用 父子组件通信")]),t._v(" "),e("p",[t._v("这种方法是 Vue 组件的基础，相信大部分同学耳闻能详，所以此处就不举例展开介绍。")])]),t._v(" "),e("li",[e("p",[t._v("（2）ref 与 $parent / $children 适用 父子组件通信")]),t._v(" "),e("p",[t._v("ref：如果在普通的 DOM 元素上使用，引用指向的就是 DOM 元素；如果用在子组件上，引用就指向组件实例\n$parent / $children：访问父 / 子实例")])]),t._v(" "),e("li",[e("p",[t._v("（3）EventBus （$emit / $on） 适用于 父子、隔代、兄弟组件通信")]),t._v(" "),e("p",[t._v("这种方法通过一个空的 Vue 实例作为中央事件总线（事件中心），用它来触发事件和监听事件，从而实现任何组件间的通信，包括父子、隔代、兄弟组件。")])]),t._v(" "),e("li",[e("p",[t._v("（4）$attrs/$listeners 适用于 隔代组件通信")]),t._v(" "),e("p",[t._v('$attrs：包含了父作用域中不被 prop 所识别 (且获取) 的特性绑定 ( class 和 style 除外 )。当一个组件没有声明任何 prop 时，这里会包含所有父作用域的绑定 ( class 和 style 除外 )，并且可以通过 v-bind="$attrs" 传入内部组件。通常配合 inheritAttrs 选项一起使用。\n$listeners：包含了父作用域中的 (不含 .native 修饰器的)  v-on 事件监听器。它可以通过 v-on="$listeners" 传入内部组件')])]),t._v(" "),e("li",[e("p",[t._v("（5）provide / inject 适用于 隔代组件通信")]),t._v(" "),e("p",[t._v("祖先组件中通过 provider 来提供变量，然后在子孙组件中通过 inject 来注入变量。 provide / inject API 主要解决了跨级组件间的通信问题，不过它的使用场景，主要是子组件获取上级组件的状态，跨级组件间建立了一种主动提供与依赖注入的关系。")])]),t._v(" "),e("li",[e("p",[t._v("（6）Vuex 适用于 父子、隔代、兄弟组件通信")]),t._v(" "),e("p",[t._v("Vuex 是一个专为 Vue.js 应用程序开发的状态管理模式。每一个 Vuex 应用的核心就是 store（仓库）。“store” 基本上就是一个容器，它包含着你的应用中大部分的状态 ( state )。")])])]),t._v(" "),e("blockquote",[e("p",[t._v("Vuex 的状态存储是响应式的。当 Vue 组件从 store 中读取状态的时候，若 store 中的状态发生变化，那么相应的组件也会相应地得到高效更新。\n改变 store 中的状态的唯一途径就是显式地提交 (commit) mutation。这样使得我们可以方便地跟踪每一个状态的变化。")])]),t._v(" "),e("h3",{attrs:{id:"_20-class-与-style-如何动态绑定？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_20-class-与-style-如何动态绑定？"}},[t._v("#")]),t._v(" 20. Class 与 Style 如何动态绑定？")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("Class 可以通过对象语法和数组语法进行动态绑定：")]),t._v(" "),e("ul",[e("li",[t._v("对象语法：")])])])]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("  "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" div v "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" bind"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("\"{ active: isActive, 'text-danger': hasError }\"")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n  data"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    isActive"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    hasError"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br")])]),e("ul",[e("li",[t._v("数组语法：")])]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("    "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" div v "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" bind"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("\"[isActive ? activeClass : '', errorClass]\"")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n    data"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      activeClass"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'active'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      errorClass"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'text-danger'")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br")])]),e("ul",[e("li",[e("p",[t._v("Style 也可以通过对象语法和数组语法进行动态绑定：")]),t._v(" "),e("ul",[e("li",[t._v("对象语法：")])])])]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("  "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" div v "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" bind"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" style "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("\"{ color: activeColor, fontSize: fontSize + 'px' }\"")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n  data"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    activeColor"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'red'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    fontSize"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br")])]),e("ul",[e("li",[t._v("数组语法：")])]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("  "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" div v "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" bind"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" style "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"[styleColor, styleSize]"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n  data"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    styleColor"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      color"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'red'")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    styleSize"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      fontSize"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'23px'")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br")])]),e("h3",{attrs:{id:"_21-怎样理解-vue-的单向数据流？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_21-怎样理解-vue-的单向数据流？"}},[t._v("#")]),t._v(" 21. 怎样理解 Vue 的单向数据流？")]),t._v(" "),e("blockquote",[e("p",[t._v("所有的 prop 都使得其父子 prop 之间形成了一个单向下行绑定：父级 prop 的更新会向下流动到子组件中，但是反过来则不行。这样会防止从子组件意外改变父级组件的状态，从而导致你的应用的数据流向难以理解。"),e("br"),t._v("\n额外的，每次父级组件发生更新时，子组件中所有的 prop 都将会刷新为最新的值。这意味着你不应该在一个子组件内部改变 prop。如果你这样做了，Vue 会在浏览器的控制台中发出警告。子组件想修改时，只能通过 $emit 派发一个自定义事件，父组件接收到后，由父组件修改。"),e("br"),t._v("\n有两种常见的试图改变一个 prop 的情形 :")])]),t._v(" "),e("ul",[e("li",[t._v("这个 prop 用来传递一个初始值；这个子组件接下来希望将其作为一个本地的 prop 数据来使用。 在这种情况下，最好定义一个本地的 data 属性并将这个 prop 用作其初始值：")])]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("props"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'initialCounter'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("data")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      counter"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("initialCounter\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br")])]),e("ul",[e("li",[t._v("这个 prop 以一种原始的值传入且需要进行转换。 在这种情况下，最好使用这个 prop 的值来定义一个计算属性")])]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("props"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'size'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  computed"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("normalizedSize")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("size"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("trim")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("toLowerCase")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br")])]),e("h3",{attrs:{id:"_22-什么是-mvvm？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_22-什么是-mvvm？"}},[t._v("#")]),t._v(" 22. 什么是 MVVM？")]),t._v(" "),e("blockquote",[e("p",[t._v("Model–View–ViewModel （MVVM） 是一个软件架构设计模式，由微软 WPF 和 Silverlight 的架构师 Ken Cooper 和 Ted Peters 开发，是一种简化用户界面的事件驱动编程方式。由 John Gossman（同样也是 WPF 和 Silverlight 的架构师）于 2005 年在他的博客上发表\nMVVM 源自于经典的 Model–View–Controller（MVC）模式 ，MVVM 的出现促进了前端开发与后端业务逻辑的分离，极大地提高了前端开发效率，MVVM 的核心是 ViewModel 层，它就像是一个中转站（value converter），负责转换 Model 中的数据对象来让数据变得更容易管理和使用，该层向上与视图层进行双向数据绑定，向下与 Model 层通过接口请求进行数据交互，起呈上启下作用。如下图所示：")])]),t._v(" "),e("ul",[e("li",[e("p",[t._v("（1）View 层")]),t._v(" "),e("p",[t._v("View 是视图层，也就是用户界面。前端主要由 HTML 和 CSS 来构建 。")])]),t._v(" "),e("li",[e("p",[t._v("（2）Model 层")]),t._v(" "),e("p",[t._v("Model 是指数据模型，泛指后端进行的各种业务逻辑处理和数据操控，对于前端来说就是后端提供的 api 接口。")])]),t._v(" "),e("li",[e("p",[t._v("（3）ViewModel 层")]),t._v(" "),e("blockquote",[e("p",[t._v("ViewModel 是由前端开发人员组织生成和维护的视图数据层。在这一层，前端开发者对从后端获取的 Model 数据进行转换处理，做二次封装，以生成符合 View 层使用预期的视图数据模型。需要注意的是 ViewModel 所封装出来的数据模型包括视图的状态和行为两部分，而 Model 层的数据模型是只包含状态的，比如页面的这一块展示什么，而页面加载进来时发生什么，点击这一块发生什么，这一块滚动时发生什么这些都属于视图行为（交互），视图状态和行为都封装在了 ViewModel 里。这样的封装使得 ViewModel 可以完整地去描述 View 层。\nMVVM 框架实现了双向绑定，这样 ViewModel 的内容会实时展现在 View 层，前端开发者再也不必低效又麻烦地通过操纵 DOM 去更新视图，MVVM 框架已经把最脏最累的一块做好了，我们开发者只需要处理和维护 ViewModel，更新数据视图就会自动得到相应更新。这样 View 层展现的不是 Model 层的数据，而是 ViewModel 的数据，由 ViewModel 负责与 Model 层交互，这就完全解耦了 View 层和 Model 层，这个解耦是至关重要的，它是前后端分离方案实施的重要一环。\n我们以下通过一个 Vue 实例来说明 MVVM 的具体实现，有 Vue 开发经验的同学应该一目了然：")])])]),t._v(" "),e("li",[e("p",[t._v("（1）View 层")])])]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" div id "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"app"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("\n  p "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      message\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("p"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("\nbutton v "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" on"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" click "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"showMessage()"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" Click me "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/button> < /")]),t._v("\ndiv "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br")])]),e("ul",[e("li",[t._v("（2）ViewModel 层")])]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" app "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Vue")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  el"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#app'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  data"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 用于描述视图状态")]),t._v("\n    message"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Hello Vue!'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  methods"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 用于描述视图行为")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("showMessage")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" vm "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("message"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("created")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" vm "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Ajax 获取 Model 层的数据")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("ajax")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      url"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/your/server/data/api'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("success")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        vm"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("message "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" res\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br"),e("span",{staticClass:"line-number"},[t._v("16")]),e("br"),e("span",{staticClass:"line-number"},[t._v("17")]),e("br"),e("span",{staticClass:"line-number"},[t._v("18")]),e("br"),e("span",{staticClass:"line-number"},[t._v("19")]),e("br"),e("span",{staticClass:"line-number"},[t._v("20")]),e("br"),e("span",{staticClass:"line-number"},[t._v("21")]),e("br"),e("span",{staticClass:"line-number"},[t._v("22")]),e("br"),e("span",{staticClass:"line-number"},[t._v("23")]),e("br"),e("span",{staticClass:"line-number"},[t._v("24")]),e("br")])]),e("ul",[e("li",[t._v("（3） Model 层")])]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"url"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/your/server/data/api"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"res"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"success"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"IoveC"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"domain"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"www.cnblogs.com"')]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br")])]),e("h3",{attrs:{id:"_22-1-如何理解-mvvm-原理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_22-1-如何理解-mvvm-原理"}},[t._v("#")]),t._v(" 22.1 如何理解 MVVM 原理")]),t._v(" "),e("h3",{attrs:{id:"_22-2-响应式数据的原理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_22-2-响应式数据的原理"}},[t._v("#")]),t._v(" 22.2 响应式数据的原理")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("原理")]),t._v(" "),e("blockquote",[e("p",[t._v("核心机制是 观察者模式。（Object.defindProperty）\n数据是被观察的一方，发生改变时，通知所有的观察者，这样观察者可以做出响应，比如，重新渲染然后更新视图。")])])]),t._v(" "),e("li",[e("p",[t._v("过程")]),t._v(" "),e("ul",[e("li",[e("ol",[e("li",[t._v("初始化用户传入的数据，把一个普通的 js 对象传给 Vue 实例的 data 选项对象")])])]),t._v(" "),e("li",[e("ol",{attrs:{start:"2"}},[e("li",[t._v("通过 Observer 对数据进行观测，区分数组和对象，并对数组和对象遍历")])])]),t._v(" "),e("li",[e("ol",{attrs:{start:"3"}},[e("li",[t._v("Vue 将遍历此对象的所有的属性，为对象属性定义响应式变化，使用 Object.defineProperty 把这些属性全部转换为 getter/setter")])])]),t._v(" "),e("li",[e("ol",{attrs:{start:"4"}},[e("li",[t._v("Vue 内部会对数据进行劫持操作，进而追踪依赖，在属性被访问和修改时通知变化")])])])])])]),t._v(" "),e("h3",{attrs:{id:"_23-虚拟-dom-的优缺点？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_23-虚拟-dom-的优缺点？"}},[t._v("#")]),t._v(" 23. 虚拟 DOM 的优缺点？")]),t._v(" "),e("ul",[e("li",[t._v("优点：")])]),t._v(" "),e("p",[t._v("保证性能下限： 框架的虚拟 DOM 需要适配任何上层 API 可能产生的操作，它的一些 DOM 操作的实现必须是普适的，所以它的性能并不是最优的；但是比起粗暴的 DOM 操作性能要好很多，因此框架的虚拟 DOM 至少可以保证在你不需要手动优化的情况下，依然可以提供还不错的性能，即保证性能的下限；\n无需手动操作 DOM： 我们不再需要手动去操作 DOM，只需要写好 View-Model 的代码逻辑，框架会根据虚拟 DOM 和 数据双向绑定，帮我们以可预期的方式更新视图，极大提高我们的开发效率；\n跨平台： 虚拟 DOM 本质上是 JavaScript 对象, 而 DOM 与平台强相关，相比之下虚拟 DOM 可以进行更方便地跨平台操作，例如服务器渲染、weex 开发等等。")]),t._v(" "),e("ul",[e("li",[t._v("缺点:")])]),t._v(" "),e("p",[t._v("无法进行极致优化： 虽然虚拟 DOM + 合理的优化，足以应对绝大部分应用的性能需求，但在一些性能要求极高的应用中虚拟 DOM 无法进行针对性的极致优化。")]),t._v(" "),e("h3",{attrs:{id:"_23-1-虚拟-dom-实现原理？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_23-1-虚拟-dom-实现原理？"}},[t._v("#")]),t._v(" 23.1 虚拟 DOM 实现原理？")]),t._v(" "),e("p",[t._v("虚拟 DOM 的实现原理主要包括以下 3 部分：")]),t._v(" "),e("p",[t._v("用 JavaScript 对象模拟真实 DOM 树，对真实 DOM 进行抽象；\ndiff 算法 — 比较两棵虚拟 DOM 树的差异；\npach 算法 — 将两个虚拟 DOM 对象的差异应用到真正的 DOM 树。")]),t._v(" "),e("p",[t._v("如果对以上 3 个部分还不是很了解的同学，可以查看本文作者写的另一篇详解虚拟 DOM 的文章《深入剖析：Vue 核心之虚拟 DOM》")]),t._v(" "),e("h3",{attrs:{id:"_24-vue-中的-key-有什么作用？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_24-vue-中的-key-有什么作用？"}},[t._v("#")]),t._v(" 24. Vue 中的 key 有什么作用？")]),t._v(" "),e("p",[t._v("key 是为 Vue 中 vnode 的唯一标记，通过这个 key，我们的 diff 操作可以更准确、更快速。Vue 的 diff 过程可以概括为：oldCh 和 newCh 各有两个头尾的变量 oldStartIndex、oldEndIndex 和 newStartIndex、newEndIndex，它们会新节点和旧节点会进行两两对比，即一共有 4 种比较方式：newStartIndex 和 oldStartIndex 、newEndIndex 和 oldEndIndex 、newStartIndex 和 oldEndIndex 、newEndIndex 和 oldStartIndex，如果以上 4 种比较都没匹配，如果设置了 key，就会用 key 再进行比较，在比较的过程中，遍历会往中间靠，一旦 StartIdx > EndIdx 表明 oldCh 和 newCh 至少有一个已经遍历完了，就会结束比较。具体有无 key 的 diff 过程，可以查看作者写的另一篇详解虚拟 DOM 的文章《深入剖析：Vue 核心之虚拟 DOM》\n所以 Vue 中 key 的作用是：key 是为 Vue 中 vnode 的唯一标记，通过这个 key，我们的 diff 操作可以更准确、更快速\n更准确：因为带 key 就不是就地复用了，在 sameNode 函数  a.key === b.key 对比中可以避免就地复用的情况。所以会更加准确。\n更快速：利用 key 的唯一性生成 map 对象来获取对应节点，比遍历方式更快，源码如下：")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("createKeyToOldIdx")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("children"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" beginIdx"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" endIdx")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" i"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" map "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" beginIdx"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" endIdx"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),t._v("i"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    key "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" children"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("isDef")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" map"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" i\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" map\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br")])]),e("h3",{attrs:{id:"_25-你有对-vue-项目进行哪些优化？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_25-你有对-vue-项目进行哪些优化？"}},[t._v("#")]),t._v(" 25. 你有对 Vue 项目进行哪些优化？")]),t._v(" "),e("blockquote",[e("p",[t._v("如果没有对 Vue 项目没有进行过优化总结的同学，可以参考本文作者的另一篇文章《 Vue 项目性能优化 — 实践指南 》，文章主要介绍从 3 个大方面，22 个小方面详细讲解如何进行 Vue 项目的优化。")])]),t._v(" "),e("ul",[e("li",[e("p",[t._v("（1）代码层面的优化")]),t._v(" "),e("ul",[e("li",[t._v("v-if 和 v-show 区分使用场景")]),t._v(" "),e("li",[t._v("computed 和 watch 区分使用场景")]),t._v(" "),e("li",[t._v("v-for 遍历必须为 item 添加 key，且避免同时使用 v-if")]),t._v(" "),e("li",[t._v("长列表性能优化")]),t._v(" "),e("li",[t._v("事件的销毁")]),t._v(" "),e("li",[t._v("图片资源懒加载")]),t._v(" "),e("li",[t._v("路由懒加载")]),t._v(" "),e("li",[t._v("第三方插件的按需引入")]),t._v(" "),e("li",[t._v("优化无限列表性能")]),t._v(" "),e("li",[t._v("服务端渲染 SSR or 预渲染")])])]),t._v(" "),e("li",[e("p",[t._v("（2）Webpack 层面的优化")]),t._v(" "),e("ul",[e("li",[t._v("Webpack 对图片进行压缩")]),t._v(" "),e("li",[t._v("减少 ES6 转为 ES5 的冗余代码")]),t._v(" "),e("li",[t._v("提取公共代码")]),t._v(" "),e("li",[t._v("模板预编译")]),t._v(" "),e("li",[t._v("提取组件的 CSS")]),t._v(" "),e("li",[t._v("优化 SourceMap")]),t._v(" "),e("li",[t._v("构建结果输出分析")]),t._v(" "),e("li",[t._v("Vue 项目的编译优化")])])]),t._v(" "),e("li",[e("p",[t._v("（3）基础的 Web 技术的优化")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("开启 gzip 压缩")])]),t._v(" "),e("li",[e("p",[t._v("浏览器缓存")])]),t._v(" "),e("li",[e("p",[t._v("CDN 的使用")])]),t._v(" "),e("li",[e("p",[t._v("使用 Chrome Performance 查找性能瓶颈")])])])])]),t._v(" "),e("h3",{attrs:{id:"_26-谈一谈-nexttick-的原理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_26-谈一谈-nexttick-的原理"}},[t._v("#")]),t._v(" 26. 谈一谈 nextTick 的原理")]),t._v(" "),e("blockquote",[e("p",[t._v("vue 用异步队列的方式来控制 DOM 更新和 nextTick 回调先后执行\nmicrotask 因为其高优先级特性，能确保队列中的微任务在一次事件循环前被执行完毕\n考虑兼容问题, vue 做了 microtask 向 macrotask 的降级方案\n详解：26, 27 "),e("a",{attrs:{href:"https://juejin.im/post/5e04411f6fb9a0166049a073",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://juejin.im/post/5e04411f6fb9a0166049a073"),e("OutboundLink")],1)])]),t._v(" "),e("h3",{attrs:{id:"_27-聊聊-keep-alive-的实现原理和缓存策略"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_27-聊聊-keep-alive-的实现原理和缓存策略"}},[t._v("#")]),t._v(" 27. 聊聊 keep-alive 的实现原理和缓存策略")]),t._v(" "),e("ul",[e("li",[t._v("原理")])]),t._v(" "),e("p",[t._v("获取 keep-alive 包裹着的第一个子组件对象及其组件名\n根据设定的 include/exclude（如果有）进行条件匹配, 决定是否缓存。不匹配, 直接返回组件实例\n根据组件 ID 和 tag 生成缓存 Key, 并在缓存对象中查找是否已缓存过该组件实例。如果存在, 直接取出缓存值并更新该 key 在 this.keys 中的位置(更新 key 的位置是实现 LRU 置换策略的关键)\n在 this.cache 对象中存储该组件实例并保存 key 值, 之后检查缓存的实例数量是否超过 max 的设置值, 超过则根据 LRU 置换策略删除最近最久未使用的实例（即是下标为 0 的那个 key）\n最后组件实例的 keepAlive 属性设置为 true, 这个在渲染和执行被包裹组件的钩子函数会用到, 这里不细说")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("LRU 缓存淘汰算法")]),t._v(" "),e("p",[t._v("LRU（Least recently used）算法根据数据的历史访问记录来进行淘汰数据, 其核心思想是“如果数据最近被访问过, 那么将来被访问的几率也更高”。\nkeep-alive 的实现正是用到了 LRU 策略, 将最近访问的组件 push 到 this.keys 最后面, this.keys[0]也就是最久没被访问的组件, 当缓存实例超过 max 设置值, 删除 this.keys[0]")])])]),t._v(" "),e("h3",{attrs:{id:"_28-客户端渲染和服务器端渲染"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_28-客户端渲染和服务器端渲染"}},[t._v("#")]),t._v(" 28. 客户端渲染和服务器端渲染")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("客户端渲染路线")]),t._v(" "),e("ul",[e("li",[e("ol",[e("li",[t._v("请求一个 html")])])]),t._v(" "),e("li",[e("ol",{attrs:{start:"2"}},[e("li",[t._v("服务端返回一个 html")])])]),t._v(" "),e("li",[e("ol",{attrs:{start:"3"}},[e("li",[t._v("浏览器下载 html 里面的 js/css 文件")])])]),t._v(" "),e("li",[e("ol",{attrs:{start:"4"}},[e("li",[t._v("等待 js 文件下载完成")])])]),t._v(" "),e("li",[e("ol",{attrs:{start:"5"}},[e("li",[t._v("等待 js 加载并初始化完成")])])]),t._v(" "),e("li",[e("ol",{attrs:{start:"6"}},[e("li",[t._v("js 代码终于可以运行，由 js 代码向后端请求数据( ajax/fetch )")])])]),t._v(" "),e("li",[e("ol",{attrs:{start:"7"}},[e("li",[t._v("等待后端数据返回")])])]),t._v(" "),e("li",[e("ol",{attrs:{start:"8"}},[e("li",[t._v("react-dom( 客户端 )从无到完整地，把数据渲染为响应页面")])])])])]),t._v(" "),e("li",[e("p",[t._v("服务端渲染路线")]),t._v(" "),e("ul",[e("li",[e("ol",[e("li",[t._v("请求一个 html")])])]),t._v(" "),e("li",[e("ol",{attrs:{start:"2"}},[e("li",[t._v("服务端请求数据( 内网请求快 )")])])]),t._v(" "),e("li",[e("ol",{attrs:{start:"3"}},[e("li",[t._v("服务器初始渲染（服务端性能好，较快）")])])]),t._v(" "),e("li",[e("ol",{attrs:{start:"4"}},[e("li",[t._v("服务端返回已经有正确内容的页面")])])]),t._v(" "),e("li",[e("ol",{attrs:{start:"5"}},[e("li",[t._v("客户端请求 js/css 文件")])])]),t._v(" "),e("li",[e("ol",{attrs:{start:"6"}},[e("li",[t._v("等待 js 文件下载完成")])])]),t._v(" "),e("li",[e("ol",{attrs:{start:"7"}},[e("li",[t._v("等待 js 加载并初始化完成")])])]),t._v(" "),e("li",[e("ol",{attrs:{start:"8"}},[e("li",[t._v("react-dom( 客户端 )把剩下一部分渲染完成( 内容小，渲染快 )")])])])])])]),t._v(" "),e("h3",{attrs:{id:"_29-vue-为何采用异步渲染"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_29-vue-为何采用异步渲染"}},[t._v("#")]),t._v(" 29.vue 为何采用异步渲染")]),t._v(" "),e("ul",[e("li",[t._v("为了提高性能\n"),e("blockquote",[e("p",[t._v("在 vue 中，响应式数据是组件级的，也就是说，每一次的更新都是渲染整个组件，如果是同步的话，根据我们前边理解的响应式数据原理，一旦修改了 data 属性，便会触发对应的 watcher，然后调用对应 watcher 下的 update 方法更新视图，那么结果显而易见，太频繁了")])])])]),t._v(" "),e("h3",{attrs:{id:"_29-1-vue-渲染机制"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_29-1-vue-渲染机制"}},[t._v("#")]),t._v(" 29.1. vue 渲染机制")]),t._v(" "),e("blockquote",[e("p",[t._v("使用 render 属性，配合单文件组件，createElement 函数渲染。")])]),t._v(" "),e("h3",{attrs:{id:"_29-2-vue-模板编译原理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_29-2-vue-模板编译原理"}},[t._v("#")]),t._v(" 29.2 vue 模板编译原理")]),t._v(" "),e("blockquote",[e("p",[t._v("vue 对模板编译的整体流程分为三个部分：解析器（parser），优化器（optimizer）和代码生成器（code generator）。")])]),t._v(" "),e("blockquote",[e("p",[t._v("第一步是将 模板字符串 转换成 element ASTs（解析器）\n第二步是对 AST 进行静态节点标记，主要用来做虚拟 DOM 的渲染优化（优化器）\n第三步是 使用 element ASTs 生成 render 函数代码字符串（代码生成器）")])]),t._v(" "),e("h3",{attrs:{id:"_30-v-html-会导致哪些问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_30-v-html-会导致哪些问题"}},[t._v("#")]),t._v(" 30. v-html 会导致哪些问题")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("1.安全性")]),t._v(" "),e("blockquote",[e("p",[t._v("vue 官方文档说明：\n你的站点上动态渲染的任意 HTML 可能会非常危险，因为它很容易导致 XSS 攻击。请只对可信内容使用 HTML 插值，绝不要对用户提供的内容使用插值。\n尽管这看上去像 cross-site scripting 攻击，结果并不会导致什么，但是 HTML 5 中指定不执行由 innerHTML 插入的")])])]),t._v(" "),e("li",[e("p",[t._v("2.插值表达式不生效")]),t._v(" "),e("blockquote",[e("p",[t._v("v-html 更新的是元素的 innerHTML 。内容按普通 HTML 插入， 不会作为 Vue 模板进行编译 。但是有的时候我们需要渲染的 html 片段中有插值表达式，或者按照 Vue 模板语法给 dom 元素绑定了事件.\n解决办法：如果试图使用 v-html 组合模板，可以重新考虑是否通过使用组件来替代。")])])]),t._v(" "),e("li",[e("p",[t._v("3.scoped 的样式在 v-html 中不起作用")]),t._v(" "),e("blockquote",[e("p",[t._v("在单文件组件里，scoped 的样式不会应用在 v-html 内部，因为那部分 HTML 没有被 Vue 的模板编译器处理。如果你希望针对 v-html 的内容设置带作用域的 CSS，你可以替换为 CSS Modules 或用一个额外的全局 "),e("code",[t._v("<style>")]),t._v("元素手动设置类似 BEM 的作用域策略。\n解决办法 1：照样使用 scoped，但是我们可以使用深度选择器（>>>）\n当你的 vue 项目使用 less 或者 sass 的时候，>>>这个玩意可能会失效，我们用/deep/来代\n解决办法 2：单文件组件的 style 标签可以使用多次，可以一个 stlye 标签带 scoped 属性针对当前组件，另外一个 style 标签针对全局生效，但是内部我们采用特殊的命名规则即可，例如 BEM 规则。")])])])]),t._v(" "),e("h3",{attrs:{id:"_31-vue-相同逻辑如何抽离"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_31-vue-相同逻辑如何抽离"}},[t._v("#")]),t._v(" 31.vue 相同逻辑如何抽离")]),t._v(" "),e("ul",[e("li",[t._v("用 mixin\n"),e("blockquote",[e("p",[t._v("但有缺点：")])]),t._v(" "),e("ul",[e("li",[t._v("① 变量来源不能明，不利于阅读")]),t._v(" "),e("li",[t._v("② 多个 mixin 可能会造成命名冲突")]),t._v(" "),e("li",[t._v("③mixin 和组件可能会出现多对多关系，复杂性较高")])])])]),t._v(" "),e("h3",{attrs:{id:"_32-插槽"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_32-插槽"}},[t._v("#")]),t._v(" 32.插槽")]),t._v(" "),e("ul",[e("li",[t._v("单个插槽 | 默认插槽 | 匿名插槽\n"),e("blockquote",[e("p",[t._v("单个插槽可以放置在组件的任意位置，但是就像它的名字一样，一个组件中只能有一个该类插槽。相对应的，具名插槽就可以有很多个，只要名字（name 属性）不同就可以了。")])])]),t._v(" "),e("li",[t._v("具名插槽\n"),e("blockquote",[e("p",[t._v("插槽加了 name 属性，就变成了具名插槽。具名插槽可以在一个组件中出现 N 次。出现在不同的位置。")])])]),t._v(" "),e("li",[t._v("作用域插槽\n"),e("blockquote",[e("p",[t._v("作用域插槽要求，在 slot 上面绑定数据")])])]),t._v(" "),e("li",[t._v("区别：\n"),e("blockquote",[e("p",[t._v("因为单个插槽和具名插槽不绑定数据，所以父组件是提供的模板要既包括样式由包括内容的")])])])]),t._v(" "),e("h3",{attrs:{id:"_32-1-什么是作用域插槽"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_32-1-什么是作用域插槽"}},[t._v("#")]),t._v(" 32.1 什么是作用域插槽")]),t._v(" "),e("p",[t._v("父组件应用子组件可以给插槽填充内容，但一般只填充 html 标签，里边的数据信息要由插槽自己提供，这个过程称为作用域插槽")]),t._v(" "),e("h3",{attrs:{id:"_33-用-vnode-描述一个-dom-结构"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_33-用-vnode-描述一个-dom-结构"}},[t._v("#")]),t._v(" 33. 用 Vnode 描述一个 DOM 结构")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("p"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("123")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("p"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 对应的virtual DOM（伪代码）：")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" Vnode "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  tag"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'div'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  children"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" tag"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'p'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" text"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'123'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br")])]),e("h3",{attrs:{id:"_34-diff-算法原理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_34-diff-算法原理"}},[t._v("#")]),t._v(" 34.diff 算法原理")]),t._v(" "),e("blockquote",[e("p",[t._v("详解："),e("a",{attrs:{href:"https://www.cnblogs.com/wangtong111/p/11198393.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.cnblogs.com/wangtong111/p/11198393.html"),e("OutboundLink")],1),t._v("\ndiff 算法（该算法来源于 snabbdom，复杂度为 O(n)")])]),t._v(" "),e("ul",[e("li",[t._v("当数据发生变化时，vue 是怎么更新节点的？\n"),e("blockquote",[e("p",[t._v("我们先根据真实 DOM 生成一颗 virtual DOM ，当 virtual DOM 某个节点的数据改变后会生成一个新的 Vnode ，然后 Vnode 和 oldVnode 作对比，发现有不一样的地方就直接修改在真实的 DOM 上，然后使 oldVnode 的值为 Vnode 。\ndiff 的过程就是调用名为 patch 的函数，比较新旧节点，一边比较一边给 真实的 DOM 打补丁。")])])]),t._v(" "),e("li",[t._v("virtual DOM 和真实 DOM 的区别？\n"),e("blockquote",[e("p",[t._v("virtual DOM 是将真实的 DOM 的数据抽取出来，以对象的形式模拟树形结构。")])])]),t._v(" "),e("li",[t._v("diff 的比较方式？\n"),e("blockquote",[e("p",[t._v("在采取 diff 算法比较新旧节点的时候，比较只会在同层级进行, 不会跨层级比较")])])]),t._v(" "),e("li",[t._v("diff 流程图\n"),e("blockquote",[e("p",[t._v("当数据发生改变时，set 方法会让调用 Dep.notify 通知所有订阅者 Watcher，订阅者就会调用 patch 给真实的 DOM 打补丁，更新相应的视图。\n"),e("img",{attrs:{src:a(360),alt:"image"}})])])])]),t._v(" "),e("h3",{attrs:{id:"_35-axios"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_35-axios"}},[t._v("#")]),t._v(" 35.axios")]),t._v(" "),e("p",[t._v("Axios 是一个基于 promise 的 HTTP 库，可以用在浏览器和 node.js 中。\n特点：")]),t._v(" "),e("ul",[e("li",[t._v("1.从浏览器中创建 XMLHttpRequests")]),t._v(" "),e("li",[t._v("2.从 node.js 创建 http 请求")]),t._v(" "),e("li",[t._v("3.支持 Promise API")]),t._v(" "),e("li",[t._v("4.拦截请求和响应")]),t._v(" "),e("li",[t._v("5.转换请求数据和响应数据")]),t._v(" "),e("li",[t._v("6.取消请求")]),t._v(" "),e("li",[t._v("7.自动转换 JSON 数据")]),t._v(" "),e("li",[t._v("8.客户端支持防御 XSRF")])]),t._v(" "),e("h3",{attrs:{id:"_35-1-axios-和-ajax-区别"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_35-1-axios-和-ajax-区别"}},[t._v("#")]),t._v(" 35.1 axios 和 ajax 区别")]),t._v(" "),e("ul",[e("li",[t._v("ajax:异步请求，是一种无需再重新加载整个网页的情况下，能够更新部分网页的技术")]),t._v(" "),e("li",[t._v("axios:用于浏览器和 node.js 的基于 promise 的 HTTP 客户端")]),t._v(" "),e("li",[t._v("ajax：\n"),e("blockquote",[e("p",[t._v("本身是针对 MVC 的编程,不符合现在前端 MVVM 的浪潮\n基于原生的 XHR 开发，XHR 本身的架构不清晰，已经有了 fetch 的替代方案\nJQuery 整个项目太大，单纯使用 ajax 却要引入整个 JQuery 非常的不合理（采取个性化打包的方案又不能享受 CDN 服务")])])]),t._v(" "),e("li",[t._v("axios\n"),e("blockquote",[e("p",[t._v("从 node.js 创建 http 请求\n支持 Promise API\n客户端支持防止 CSRF\n提供了一些并发请求的接口（重要，方便了很多的操作）")])])])]),t._v(" "),e("h3",{attrs:{id:"_100-vue-常用-ui-组件库及其优点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_100-vue-常用-ui-组件库及其优点"}},[t._v("#")]),t._v(" 100. vue 常用 UI 组件库及其优点")]),t._v(" "),e("ul",[e("li",[e("ol",[e("li",[t._v("Element UI\n"),e("blockquote",[e("p",[t._v("Element 是饿了么前端开源维护的 Vue UI 组件库，更新频率还是很高的，基本一周到半个月都会发布一个新版本。组件齐全，基本涵盖后台所需的所有组件，文档讲解详细，例子也很丰富。")])])])])]),t._v(" "),e("li",[e("ol",{attrs:{start:"2"}},[e("li",[t._v("Ant Design Vue UI\n"),e("blockquote",[e("p",[t._v("开发和服务于企业级后台产品,Ant Design Vue 共享 Ant Design of React 设计工具体系，实现了所有 Ant Design of React 的组件，支持现代浏览器和 IE9 及以上（需要 polyfills）")])])])])]),t._v(" "),e("li",[e("ol",{attrs:{start:"3"}},[e("li",[t._v("iView\n"),e("blockquote",[e("p",[t._v("iView 是一套基于 Vue.js 的开源 UI 组件库，主要服务于 PC 界面的中后台产品。iView 的组件还是比较齐全的，更新也很快，文档写得很详细。有公司团队维护，比较可靠的 Vue UI 组件框架。iView 生态也做得很好，还有开源了一个 iView Admin，做后台非常方便。官网上介绍，iView 已经应用在 TalkingData、阿里巴巴、百度、腾讯、今日头条、京东、滴滴出行、美团、新浪、联想等大型公司的产品中。")])])])])]),t._v(" "),e("li",[e("ol",{attrs:{start:"4"}},[e("li",[t._v("Muse UI\n"),e("blockquote",[e("p",[t._v("Muse UI 基于 Vue2.0 开发，Vue2.0 是当下最快的前端框架之一，小巧，api 友好，可用于开发的复杂单页应用,\n组件丰富，可自定义主题")])])])])])])])}),[],!1,null,null,null);s.default=n.exports}}]);