(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{406:function(o,t,e){"use strict";e.r(t);var _=e(43),v=Object(_.a)({},(function(){var o=this,t=o.$createElement,e=o._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":o.$parent.slotKey}},[e("h2",{attrs:{id:"mongo"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mongo"}},[o._v("#")]),o._v(" mongo")]),o._v(" "),e("h3",{attrs:{id:"_1-cmd-连接-mongo"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-cmd-连接-mongo"}},[o._v("#")]),o._v(" 1. cmd 连接 mongo")]),o._v(" "),e("ul",[e("li",[e("ol",[e("li",[o._v("配置环境变量，将 mongodb\\bin 目录配置到 path\n"),e("blockquote",[e("p",[e("code",[o._v("F:\\OtherSoftWare\\MongoDB\\bin")])])])])])]),o._v(" "),e("li",[e("ol",{attrs:{start:"2"}},[e("li",[o._v("打开 cmd 窗口,测试 mongodb 服务端是否在运行: net start mongodb")])])]),o._v(" "),e("li",[e("ol",{attrs:{start:"3"}},[e("li",[o._v("命令行输入 mongo (客户端连接服务器)")])])])]),o._v(" "),e("h3",{attrs:{id:"_2-mongo-备份与恢复"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-mongo-备份与恢复"}},[o._v("#")]),o._v(" 2. mongo 备份与恢复")]),o._v(" "),e("ul",[e("li",[e("p",[o._v("备份 mongodump")]),o._v(" "),e("blockquote",[e("p",[o._v("mongodump -h dbhost -d dbname -o dbdirectory"),e("br"),o._v("\n-h：MongDB 所在服务器地址，例如：127.0.0.1，当然也可以指定端口号：127.0.0.1:27017"),e("br"),o._v("\n-d：需要备份的数据库实例，例如：test"),e("br"),o._v("\n-o：备份的数据存放位置，例如：c:\\data\\dump，当然该目录需要提前建立，在备份完成后，系统自动在 dump 目录下建立一个 test 目录，这个目录里面存放该数据库实例的备份数据。"),e("br"),o._v("\n例子：")])]),o._v(" "),e("ul",[e("li",[o._v("备份指定数据库： "),e("code",[o._v("mongodump -h 127.0.0.1 -d test -o C:\\test")])]),o._v(" "),e("li",[o._v("备份所有数据库： "),e("code",[o._v("mongodump -o C:\\test")])])])]),o._v(" "),e("li",[e("p",[o._v("恢复 mongorestore")]),o._v(" "),e("blockquote",[e("p",[e("code",[o._v("mongorestore -h <hostname><:port> -d dbname <path>")])])]),o._v(" "),e("ul",[e("li",[e("p",[o._v("恢复所有数据库： "),e("code",[o._v("mongorestore C:\\test")]),o._v(" #所有库的备份路径")])]),o._v(" "),e("li",[e("p",[o._v("恢复指定数据库： "),e("code",[o._v("mongorestore -h 127.0.0.1:27017 -d test --dir C:\\test\\test")])])]),o._v(" "),e("li",[e("p",[o._v("先删除再恢复指定数据库： "),e("code",[o._v("mongorestore -h 127.0.0.1:27017 -d test --drop C:\\test\\test")])])]),o._v(" "),e("li",[e("p",[o._v("--host <:port>, -h <:port>：`")]),o._v(" "),e("blockquote",[e("p",[o._v("MongoDB 所在服务器地址，默认为： localhost:27017")])])]),o._v(" "),e("li",[e("p",[o._v("--db , -d ：")]),o._v(" "),e("blockquote",[e("p",[o._v("需要恢复的数据库实例，例如：test，当然这个名称也可以和备份时候的不一样，比如 test2")])])]),o._v(" "),e("li",[e("p",[o._v("--drop：")]),o._v(" "),e("blockquote",[e("p",[o._v("恢复的时候，先删除当前数据，然后恢复备份的数据。就是说，恢复后，备份后添加修改的数据都会被删除，慎用哦！")])])]),o._v(" "),e("li",[e("p",[e("code",[o._v("<path>")]),o._v("：")]),o._v(" "),e("blockquote",[e("p",[o._v("mongorestore 最后的一个参数，设置备份数据所在位置，例如：c:\\data\\dump\\test。\n你不能同时指定 "),e("code",[o._v("<path>")]),o._v(" 和 --dir 选项，--dir 也可以设置备份目录。")])])]),o._v(" "),e("li",[e("p",[o._v("--dir：")]),o._v(" "),e("blockquote",[e("p",[o._v("指定备份的目录,你不能同时指定 "),e("code",[o._v("<path>")]),o._v(" 和 --dir 选项。")])])])])])])])}),[],!1,null,null,null);t.default=v.exports}}]);