<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>入口开始，解读Vue源码（九）—— $mount 内部实现 --- render函数 --&gt; VNode | 个人主页</title>
    <meta name="generator" content="VuePress 1.5.0">
    
    <meta name="description" content="Roninwz的博客">
    <link rel="preload" href="/blog/assets/css/0.styles.56a09861.css" as="style"><link rel="preload" href="/blog/assets/js/app.c9938c2c.js" as="script"><link rel="preload" href="/blog/assets/js/2.39a278a7.js" as="script"><link rel="preload" href="/blog/assets/js/163.0b35fe5f.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.e7f02827.js"><link rel="prefetch" href="/blog/assets/js/100.0b6fc73d.js"><link rel="prefetch" href="/blog/assets/js/101.f9b84aef.js"><link rel="prefetch" href="/blog/assets/js/102.b2046444.js"><link rel="prefetch" href="/blog/assets/js/103.41bd4308.js"><link rel="prefetch" href="/blog/assets/js/104.58cef0ea.js"><link rel="prefetch" href="/blog/assets/js/105.0527265a.js"><link rel="prefetch" href="/blog/assets/js/106.be3d23e2.js"><link rel="prefetch" href="/blog/assets/js/107.682c79c5.js"><link rel="prefetch" href="/blog/assets/js/108.ad0792b9.js"><link rel="prefetch" href="/blog/assets/js/109.9e161367.js"><link rel="prefetch" href="/blog/assets/js/11.71987d87.js"><link rel="prefetch" href="/blog/assets/js/110.f892bbb1.js"><link rel="prefetch" href="/blog/assets/js/111.15f72e81.js"><link rel="prefetch" href="/blog/assets/js/112.65bf50be.js"><link rel="prefetch" href="/blog/assets/js/113.6589e5be.js"><link rel="prefetch" href="/blog/assets/js/114.bd71ffec.js"><link rel="prefetch" href="/blog/assets/js/115.b5b9f6b7.js"><link rel="prefetch" href="/blog/assets/js/116.5a87e042.js"><link rel="prefetch" href="/blog/assets/js/117.de2b2241.js"><link rel="prefetch" href="/blog/assets/js/118.f818b45e.js"><link rel="prefetch" href="/blog/assets/js/119.3837b283.js"><link rel="prefetch" href="/blog/assets/js/12.a84e2e99.js"><link rel="prefetch" href="/blog/assets/js/120.4fa7839a.js"><link rel="prefetch" href="/blog/assets/js/121.eda4bfd3.js"><link rel="prefetch" href="/blog/assets/js/122.96af807c.js"><link rel="prefetch" href="/blog/assets/js/123.b00c5274.js"><link rel="prefetch" href="/blog/assets/js/124.9f133422.js"><link rel="prefetch" href="/blog/assets/js/125.a26ad35b.js"><link rel="prefetch" href="/blog/assets/js/126.1cc7faa5.js"><link rel="prefetch" href="/blog/assets/js/127.ae8dff2a.js"><link rel="prefetch" href="/blog/assets/js/128.3774befa.js"><link rel="prefetch" href="/blog/assets/js/129.6182ac2c.js"><link rel="prefetch" href="/blog/assets/js/13.a7eac4d3.js"><link rel="prefetch" href="/blog/assets/js/130.56b83d47.js"><link rel="prefetch" href="/blog/assets/js/131.1a1dbbdb.js"><link rel="prefetch" href="/blog/assets/js/132.6addc476.js"><link rel="prefetch" href="/blog/assets/js/133.4b07661f.js"><link rel="prefetch" href="/blog/assets/js/134.5bcb7cc1.js"><link rel="prefetch" href="/blog/assets/js/135.097c1157.js"><link rel="prefetch" href="/blog/assets/js/136.ebb03f20.js"><link rel="prefetch" href="/blog/assets/js/137.fabea276.js"><link rel="prefetch" href="/blog/assets/js/138.48a93cb6.js"><link rel="prefetch" href="/blog/assets/js/139.21614a07.js"><link rel="prefetch" href="/blog/assets/js/14.7c5f2d55.js"><link rel="prefetch" href="/blog/assets/js/140.303b868e.js"><link rel="prefetch" href="/blog/assets/js/141.6b10a55f.js"><link rel="prefetch" href="/blog/assets/js/142.e58a6a62.js"><link rel="prefetch" href="/blog/assets/js/143.de5fffad.js"><link rel="prefetch" href="/blog/assets/js/144.36e0060d.js"><link rel="prefetch" href="/blog/assets/js/145.cb8823c2.js"><link rel="prefetch" href="/blog/assets/js/146.4d213135.js"><link rel="prefetch" href="/blog/assets/js/147.cd5447b4.js"><link rel="prefetch" href="/blog/assets/js/148.cc5098db.js"><link rel="prefetch" href="/blog/assets/js/149.80a53c8c.js"><link rel="prefetch" href="/blog/assets/js/15.cf3ae7fc.js"><link rel="prefetch" href="/blog/assets/js/150.a9830905.js"><link rel="prefetch" href="/blog/assets/js/151.11286f32.js"><link rel="prefetch" href="/blog/assets/js/152.bbe2b7bd.js"><link rel="prefetch" href="/blog/assets/js/153.e321153b.js"><link rel="prefetch" href="/blog/assets/js/154.06c2f35f.js"><link rel="prefetch" href="/blog/assets/js/155.cb37fff5.js"><link rel="prefetch" href="/blog/assets/js/156.70ca7221.js"><link rel="prefetch" href="/blog/assets/js/157.e034a382.js"><link rel="prefetch" href="/blog/assets/js/158.d55c85b8.js"><link rel="prefetch" href="/blog/assets/js/159.988058b2.js"><link rel="prefetch" href="/blog/assets/js/16.57ea7a07.js"><link rel="prefetch" href="/blog/assets/js/160.845dbfa5.js"><link rel="prefetch" href="/blog/assets/js/161.a324371b.js"><link rel="prefetch" href="/blog/assets/js/162.fca5db54.js"><link rel="prefetch" href="/blog/assets/js/164.19a0c7c3.js"><link rel="prefetch" href="/blog/assets/js/165.d8eea122.js"><link rel="prefetch" href="/blog/assets/js/166.60cf214a.js"><link rel="prefetch" href="/blog/assets/js/167.ece856ca.js"><link rel="prefetch" href="/blog/assets/js/168.662effab.js"><link rel="prefetch" href="/blog/assets/js/169.a2c6b6ef.js"><link rel="prefetch" href="/blog/assets/js/17.5b84c7c2.js"><link rel="prefetch" href="/blog/assets/js/170.0e1bc38f.js"><link rel="prefetch" href="/blog/assets/js/171.5747e36e.js"><link rel="prefetch" href="/blog/assets/js/172.f9845c7d.js"><link rel="prefetch" href="/blog/assets/js/173.2a933855.js"><link rel="prefetch" href="/blog/assets/js/174.ca903a74.js"><link rel="prefetch" href="/blog/assets/js/175.1a91c451.js"><link rel="prefetch" href="/blog/assets/js/176.e7986cfd.js"><link rel="prefetch" href="/blog/assets/js/177.87f46eda.js"><link rel="prefetch" href="/blog/assets/js/178.56132a9f.js"><link rel="prefetch" href="/blog/assets/js/179.e492fe13.js"><link rel="prefetch" href="/blog/assets/js/18.0d4ce2c6.js"><link rel="prefetch" href="/blog/assets/js/180.99959be8.js"><link rel="prefetch" href="/blog/assets/js/181.5406335f.js"><link rel="prefetch" href="/blog/assets/js/182.dcee2f13.js"><link rel="prefetch" href="/blog/assets/js/183.d2d7952f.js"><link rel="prefetch" href="/blog/assets/js/184.9ddc24b0.js"><link rel="prefetch" href="/blog/assets/js/185.cb26f60c.js"><link rel="prefetch" href="/blog/assets/js/186.fa0268b1.js"><link rel="prefetch" href="/blog/assets/js/187.91b9fbdf.js"><link rel="prefetch" href="/blog/assets/js/188.1540d2b5.js"><link rel="prefetch" href="/blog/assets/js/189.7451fab9.js"><link rel="prefetch" href="/blog/assets/js/19.0e61792b.js"><link rel="prefetch" href="/blog/assets/js/190.9018a490.js"><link rel="prefetch" href="/blog/assets/js/191.2ccc782b.js"><link rel="prefetch" href="/blog/assets/js/192.e44a6e25.js"><link rel="prefetch" href="/blog/assets/js/193.358a2911.js"><link rel="prefetch" href="/blog/assets/js/194.e2b2387b.js"><link rel="prefetch" href="/blog/assets/js/195.80178b17.js"><link rel="prefetch" href="/blog/assets/js/196.7cca5e82.js"><link rel="prefetch" href="/blog/assets/js/197.3a9ea3c1.js"><link rel="prefetch" href="/blog/assets/js/198.6a02d582.js"><link rel="prefetch" href="/blog/assets/js/199.0ccbd449.js"><link rel="prefetch" href="/blog/assets/js/20.4d7f44d9.js"><link rel="prefetch" href="/blog/assets/js/200.410063c5.js"><link rel="prefetch" href="/blog/assets/js/201.5b0c094c.js"><link rel="prefetch" href="/blog/assets/js/202.20e06745.js"><link rel="prefetch" href="/blog/assets/js/203.5d3cf6a8.js"><link rel="prefetch" href="/blog/assets/js/204.71f4eef1.js"><link rel="prefetch" href="/blog/assets/js/205.24769226.js"><link rel="prefetch" href="/blog/assets/js/206.70e43498.js"><link rel="prefetch" href="/blog/assets/js/207.cc4f1be8.js"><link rel="prefetch" href="/blog/assets/js/208.f7dd5a93.js"><link rel="prefetch" href="/blog/assets/js/209.1027dfae.js"><link rel="prefetch" href="/blog/assets/js/21.83a4ec90.js"><link rel="prefetch" href="/blog/assets/js/210.3791de34.js"><link rel="prefetch" href="/blog/assets/js/211.ad0dbc36.js"><link rel="prefetch" href="/blog/assets/js/212.adb9fcde.js"><link rel="prefetch" href="/blog/assets/js/213.4018857b.js"><link rel="prefetch" href="/blog/assets/js/214.6b6b3a1a.js"><link rel="prefetch" href="/blog/assets/js/215.0c4ac085.js"><link rel="prefetch" href="/blog/assets/js/216.76c2bb72.js"><link rel="prefetch" href="/blog/assets/js/217.d02530bc.js"><link rel="prefetch" href="/blog/assets/js/218.d242aad0.js"><link rel="prefetch" href="/blog/assets/js/219.b4d1ca3e.js"><link rel="prefetch" href="/blog/assets/js/22.6a300223.js"><link rel="prefetch" href="/blog/assets/js/220.cc9ebf36.js"><link rel="prefetch" href="/blog/assets/js/221.5dac2cb4.js"><link rel="prefetch" href="/blog/assets/js/222.ae1c03e8.js"><link rel="prefetch" href="/blog/assets/js/223.d7e0bf7f.js"><link rel="prefetch" href="/blog/assets/js/224.cec2f771.js"><link rel="prefetch" href="/blog/assets/js/225.040b3468.js"><link rel="prefetch" href="/blog/assets/js/226.19d92ccc.js"><link rel="prefetch" href="/blog/assets/js/227.e1cdc094.js"><link rel="prefetch" href="/blog/assets/js/228.52d700e1.js"><link rel="prefetch" href="/blog/assets/js/229.40673180.js"><link rel="prefetch" href="/blog/assets/js/23.d0d17b3f.js"><link rel="prefetch" href="/blog/assets/js/230.fd6c14fd.js"><link rel="prefetch" href="/blog/assets/js/231.266105e7.js"><link rel="prefetch" href="/blog/assets/js/232.68b3c081.js"><link rel="prefetch" href="/blog/assets/js/233.bb7f0712.js"><link rel="prefetch" href="/blog/assets/js/234.4bcf4078.js"><link rel="prefetch" href="/blog/assets/js/235.4957cc2d.js"><link rel="prefetch" href="/blog/assets/js/236.c0e265e5.js"><link rel="prefetch" href="/blog/assets/js/237.818663d6.js"><link rel="prefetch" href="/blog/assets/js/238.704e97a5.js"><link rel="prefetch" href="/blog/assets/js/239.7110dae3.js"><link rel="prefetch" href="/blog/assets/js/24.3ac68a68.js"><link rel="prefetch" href="/blog/assets/js/240.0f1fa88d.js"><link rel="prefetch" href="/blog/assets/js/241.75bea016.js"><link rel="prefetch" href="/blog/assets/js/242.d8cd81e9.js"><link rel="prefetch" href="/blog/assets/js/243.4d648241.js"><link rel="prefetch" href="/blog/assets/js/244.bf733088.js"><link rel="prefetch" href="/blog/assets/js/245.90a91dc7.js"><link rel="prefetch" href="/blog/assets/js/246.e08c934e.js"><link rel="prefetch" href="/blog/assets/js/247.d10fe6b7.js"><link rel="prefetch" href="/blog/assets/js/248.e8759ebf.js"><link rel="prefetch" href="/blog/assets/js/249.39da5da6.js"><link rel="prefetch" href="/blog/assets/js/25.8776ce0c.js"><link rel="prefetch" href="/blog/assets/js/250.57f792e9.js"><link rel="prefetch" href="/blog/assets/js/251.f2356569.js"><link rel="prefetch" href="/blog/assets/js/252.8547f45b.js"><link rel="prefetch" href="/blog/assets/js/253.6cafcdeb.js"><link rel="prefetch" href="/blog/assets/js/254.4c69a1dc.js"><link rel="prefetch" href="/blog/assets/js/255.809ca5d2.js"><link rel="prefetch" href="/blog/assets/js/256.23c2e907.js"><link rel="prefetch" href="/blog/assets/js/257.2f17c4b3.js"><link rel="prefetch" href="/blog/assets/js/258.54e2ece7.js"><link rel="prefetch" href="/blog/assets/js/259.9ad454a7.js"><link rel="prefetch" href="/blog/assets/js/26.0a159a07.js"><link rel="prefetch" href="/blog/assets/js/260.6ea7354a.js"><link rel="prefetch" href="/blog/assets/js/261.c6f66f8d.js"><link rel="prefetch" href="/blog/assets/js/262.9b8c753e.js"><link rel="prefetch" href="/blog/assets/js/263.48b0e16e.js"><link rel="prefetch" href="/blog/assets/js/264.759c3f09.js"><link rel="prefetch" href="/blog/assets/js/265.deda79de.js"><link rel="prefetch" href="/blog/assets/js/266.9a64d4bb.js"><link rel="prefetch" href="/blog/assets/js/267.4227603d.js"><link rel="prefetch" href="/blog/assets/js/268.6b7856c1.js"><link rel="prefetch" href="/blog/assets/js/269.75ca1d80.js"><link rel="prefetch" href="/blog/assets/js/27.425e5649.js"><link rel="prefetch" href="/blog/assets/js/270.7b93325b.js"><link rel="prefetch" href="/blog/assets/js/271.cb0af2f6.js"><link rel="prefetch" href="/blog/assets/js/272.5aa6fc3e.js"><link rel="prefetch" href="/blog/assets/js/273.7f80d0c8.js"><link rel="prefetch" href="/blog/assets/js/274.32237545.js"><link rel="prefetch" href="/blog/assets/js/275.53f933b2.js"><link rel="prefetch" href="/blog/assets/js/276.5526cd68.js"><link rel="prefetch" href="/blog/assets/js/277.16478197.js"><link rel="prefetch" href="/blog/assets/js/278.712d8980.js"><link rel="prefetch" href="/blog/assets/js/279.dbd095ea.js"><link rel="prefetch" href="/blog/assets/js/28.531be2a6.js"><link rel="prefetch" href="/blog/assets/js/280.5c2b73f8.js"><link rel="prefetch" href="/blog/assets/js/281.c8e8ff6b.js"><link rel="prefetch" href="/blog/assets/js/282.b2ef5afb.js"><link rel="prefetch" href="/blog/assets/js/283.d8b127a6.js"><link rel="prefetch" href="/blog/assets/js/284.7aa33106.js"><link rel="prefetch" href="/blog/assets/js/285.4d2c3d50.js"><link rel="prefetch" href="/blog/assets/js/286.60df43df.js"><link rel="prefetch" href="/blog/assets/js/287.e390fd0c.js"><link rel="prefetch" href="/blog/assets/js/288.4d3a6eb6.js"><link rel="prefetch" href="/blog/assets/js/289.074e16c3.js"><link rel="prefetch" href="/blog/assets/js/29.64a05707.js"><link rel="prefetch" href="/blog/assets/js/290.b337f3c7.js"><link rel="prefetch" href="/blog/assets/js/291.436f4964.js"><link rel="prefetch" href="/blog/assets/js/292.ec8cfeeb.js"><link rel="prefetch" href="/blog/assets/js/293.628d578e.js"><link rel="prefetch" href="/blog/assets/js/294.6ef97490.js"><link rel="prefetch" href="/blog/assets/js/295.9687152c.js"><link rel="prefetch" href="/blog/assets/js/296.4ca9e971.js"><link rel="prefetch" href="/blog/assets/js/297.c4025a41.js"><link rel="prefetch" href="/blog/assets/js/298.d0434006.js"><link rel="prefetch" href="/blog/assets/js/299.7fbbb90f.js"><link rel="prefetch" href="/blog/assets/js/3.a1112b74.js"><link rel="prefetch" href="/blog/assets/js/30.f9355cac.js"><link rel="prefetch" href="/blog/assets/js/300.fbb0662d.js"><link rel="prefetch" href="/blog/assets/js/301.f3ad35b7.js"><link rel="prefetch" href="/blog/assets/js/302.0c685090.js"><link rel="prefetch" href="/blog/assets/js/303.17485fc1.js"><link rel="prefetch" href="/blog/assets/js/304.5afc416b.js"><link rel="prefetch" href="/blog/assets/js/305.f5840cac.js"><link rel="prefetch" href="/blog/assets/js/306.b70cb33b.js"><link rel="prefetch" href="/blog/assets/js/307.5317e503.js"><link rel="prefetch" href="/blog/assets/js/308.05b7a537.js"><link rel="prefetch" href="/blog/assets/js/309.991e02a5.js"><link rel="prefetch" href="/blog/assets/js/31.55c77188.js"><link rel="prefetch" href="/blog/assets/js/310.d2b6eabf.js"><link rel="prefetch" href="/blog/assets/js/311.3f853ae3.js"><link rel="prefetch" href="/blog/assets/js/312.b2d19505.js"><link rel="prefetch" href="/blog/assets/js/313.3093b602.js"><link rel="prefetch" href="/blog/assets/js/314.82529c7e.js"><link rel="prefetch" href="/blog/assets/js/315.2da135ee.js"><link rel="prefetch" href="/blog/assets/js/316.7746f25d.js"><link rel="prefetch" href="/blog/assets/js/317.26b8f796.js"><link rel="prefetch" href="/blog/assets/js/318.76381e70.js"><link rel="prefetch" href="/blog/assets/js/319.543eb61f.js"><link rel="prefetch" href="/blog/assets/js/32.3dbc4989.js"><link rel="prefetch" href="/blog/assets/js/320.773ca65f.js"><link rel="prefetch" href="/blog/assets/js/321.4410314b.js"><link rel="prefetch" href="/blog/assets/js/322.ee9d75f6.js"><link rel="prefetch" href="/blog/assets/js/323.27bb4438.js"><link rel="prefetch" href="/blog/assets/js/324.9d7fe6eb.js"><link rel="prefetch" href="/blog/assets/js/325.f4068bf6.js"><link rel="prefetch" href="/blog/assets/js/326.57ab339a.js"><link rel="prefetch" href="/blog/assets/js/327.750c6f30.js"><link rel="prefetch" href="/blog/assets/js/328.133ee712.js"><link rel="prefetch" href="/blog/assets/js/329.2dbb44bd.js"><link rel="prefetch" href="/blog/assets/js/33.e56d3380.js"><link rel="prefetch" href="/blog/assets/js/330.fcc9c88b.js"><link rel="prefetch" href="/blog/assets/js/331.896b86fb.js"><link rel="prefetch" href="/blog/assets/js/332.64351706.js"><link rel="prefetch" href="/blog/assets/js/333.281585f5.js"><link rel="prefetch" href="/blog/assets/js/334.264d86ef.js"><link rel="prefetch" href="/blog/assets/js/335.25b0bc13.js"><link rel="prefetch" href="/blog/assets/js/336.3d77ecf2.js"><link rel="prefetch" href="/blog/assets/js/337.b1338a7f.js"><link rel="prefetch" href="/blog/assets/js/338.7ad6dc55.js"><link rel="prefetch" href="/blog/assets/js/339.02c74da6.js"><link rel="prefetch" href="/blog/assets/js/34.ff4c680a.js"><link rel="prefetch" href="/blog/assets/js/340.77112871.js"><link rel="prefetch" href="/blog/assets/js/341.f6cf9ea3.js"><link rel="prefetch" href="/blog/assets/js/342.13115dec.js"><link rel="prefetch" href="/blog/assets/js/343.8d2e0ab0.js"><link rel="prefetch" href="/blog/assets/js/344.201d14e0.js"><link rel="prefetch" href="/blog/assets/js/345.d3635d5a.js"><link rel="prefetch" href="/blog/assets/js/346.5fbc68ad.js"><link rel="prefetch" href="/blog/assets/js/347.cf98c8b6.js"><link rel="prefetch" href="/blog/assets/js/348.c615be5f.js"><link rel="prefetch" href="/blog/assets/js/349.841c7fc8.js"><link rel="prefetch" href="/blog/assets/js/35.a5b199ad.js"><link rel="prefetch" href="/blog/assets/js/350.2e0df37a.js"><link rel="prefetch" href="/blog/assets/js/351.d653ff61.js"><link rel="prefetch" href="/blog/assets/js/352.2af94c93.js"><link rel="prefetch" href="/blog/assets/js/353.08820af0.js"><link rel="prefetch" href="/blog/assets/js/354.afdd1dc3.js"><link rel="prefetch" href="/blog/assets/js/355.af9f04d1.js"><link rel="prefetch" href="/blog/assets/js/356.e182a6c8.js"><link rel="prefetch" href="/blog/assets/js/357.d0c4dbe5.js"><link rel="prefetch" href="/blog/assets/js/358.e28aec11.js"><link rel="prefetch" href="/blog/assets/js/359.2dd886d5.js"><link rel="prefetch" href="/blog/assets/js/36.10cd7837.js"><link rel="prefetch" href="/blog/assets/js/360.8e29bddc.js"><link rel="prefetch" href="/blog/assets/js/361.fe274d4b.js"><link rel="prefetch" href="/blog/assets/js/362.708846fb.js"><link rel="prefetch" href="/blog/assets/js/363.18999144.js"><link rel="prefetch" href="/blog/assets/js/364.9cfbb56f.js"><link rel="prefetch" href="/blog/assets/js/365.8b34c055.js"><link rel="prefetch" href="/blog/assets/js/366.9d15a77a.js"><link rel="prefetch" href="/blog/assets/js/367.07368f53.js"><link rel="prefetch" href="/blog/assets/js/368.852ba4bd.js"><link rel="prefetch" href="/blog/assets/js/369.0db1a1da.js"><link rel="prefetch" href="/blog/assets/js/37.7b70f914.js"><link rel="prefetch" href="/blog/assets/js/370.63569881.js"><link rel="prefetch" href="/blog/assets/js/371.6383090d.js"><link rel="prefetch" href="/blog/assets/js/372.07778163.js"><link rel="prefetch" href="/blog/assets/js/373.87e8fa3b.js"><link rel="prefetch" href="/blog/assets/js/374.7491ce11.js"><link rel="prefetch" href="/blog/assets/js/375.b18f22fe.js"><link rel="prefetch" href="/blog/assets/js/376.89029175.js"><link rel="prefetch" href="/blog/assets/js/377.5cef2529.js"><link rel="prefetch" href="/blog/assets/js/378.b455dccd.js"><link rel="prefetch" href="/blog/assets/js/379.251a5154.js"><link rel="prefetch" href="/blog/assets/js/38.39c89f13.js"><link rel="prefetch" href="/blog/assets/js/380.f88dc6e9.js"><link rel="prefetch" href="/blog/assets/js/381.5a9dc243.js"><link rel="prefetch" href="/blog/assets/js/382.cb88a71b.js"><link rel="prefetch" href="/blog/assets/js/383.da8dc95e.js"><link rel="prefetch" href="/blog/assets/js/384.18c8e1ce.js"><link rel="prefetch" href="/blog/assets/js/385.be5c5a6f.js"><link rel="prefetch" href="/blog/assets/js/386.046e56b8.js"><link rel="prefetch" href="/blog/assets/js/387.fbe9a8de.js"><link rel="prefetch" href="/blog/assets/js/388.7bda352f.js"><link rel="prefetch" href="/blog/assets/js/389.00e568c5.js"><link rel="prefetch" href="/blog/assets/js/39.82e1434d.js"><link rel="prefetch" href="/blog/assets/js/390.531cc57d.js"><link rel="prefetch" href="/blog/assets/js/391.6ea8dd1e.js"><link rel="prefetch" href="/blog/assets/js/392.dc7bcdcc.js"><link rel="prefetch" href="/blog/assets/js/393.5e0b036d.js"><link rel="prefetch" href="/blog/assets/js/394.4899779b.js"><link rel="prefetch" href="/blog/assets/js/395.d6eb2cdc.js"><link rel="prefetch" href="/blog/assets/js/396.204fd46b.js"><link rel="prefetch" href="/blog/assets/js/397.4ef452e2.js"><link rel="prefetch" href="/blog/assets/js/398.a9e22fc7.js"><link rel="prefetch" href="/blog/assets/js/399.0e1c4bc1.js"><link rel="prefetch" href="/blog/assets/js/4.64890aca.js"><link rel="prefetch" href="/blog/assets/js/40.7f638e9c.js"><link rel="prefetch" href="/blog/assets/js/400.023dbf6e.js"><link rel="prefetch" href="/blog/assets/js/401.7af77359.js"><link rel="prefetch" href="/blog/assets/js/402.98821296.js"><link rel="prefetch" href="/blog/assets/js/403.386afa26.js"><link rel="prefetch" href="/blog/assets/js/404.0bb0b6ef.js"><link rel="prefetch" href="/blog/assets/js/405.24d6487f.js"><link rel="prefetch" href="/blog/assets/js/406.36b552ad.js"><link rel="prefetch" href="/blog/assets/js/407.49504bde.js"><link rel="prefetch" href="/blog/assets/js/408.35527cd1.js"><link rel="prefetch" href="/blog/assets/js/409.68f7a5fe.js"><link rel="prefetch" href="/blog/assets/js/41.e29051d4.js"><link rel="prefetch" href="/blog/assets/js/410.5017b5de.js"><link rel="prefetch" href="/blog/assets/js/411.165c4345.js"><link rel="prefetch" href="/blog/assets/js/412.fc53959c.js"><link rel="prefetch" href="/blog/assets/js/413.d7149462.js"><link rel="prefetch" href="/blog/assets/js/414.06d41201.js"><link rel="prefetch" href="/blog/assets/js/415.ab2d4e97.js"><link rel="prefetch" href="/blog/assets/js/416.187816a7.js"><link rel="prefetch" href="/blog/assets/js/417.2db286ac.js"><link rel="prefetch" href="/blog/assets/js/418.aa14b190.js"><link rel="prefetch" href="/blog/assets/js/419.9b56f8f2.js"><link rel="prefetch" href="/blog/assets/js/42.5b03ee52.js"><link rel="prefetch" href="/blog/assets/js/43.663c9ee3.js"><link rel="prefetch" href="/blog/assets/js/44.7ed9f017.js"><link rel="prefetch" href="/blog/assets/js/45.123067f6.js"><link rel="prefetch" href="/blog/assets/js/46.7c0e528b.js"><link rel="prefetch" href="/blog/assets/js/47.5ce474a5.js"><link rel="prefetch" href="/blog/assets/js/48.3c9007ed.js"><link rel="prefetch" href="/blog/assets/js/49.7fb006ab.js"><link rel="prefetch" href="/blog/assets/js/5.ca73553c.js"><link rel="prefetch" href="/blog/assets/js/50.22f730b9.js"><link rel="prefetch" href="/blog/assets/js/51.39f07e91.js"><link rel="prefetch" href="/blog/assets/js/52.4639659a.js"><link rel="prefetch" href="/blog/assets/js/53.81404d4d.js"><link rel="prefetch" href="/blog/assets/js/54.dcdd810e.js"><link rel="prefetch" href="/blog/assets/js/55.73c14142.js"><link rel="prefetch" href="/blog/assets/js/56.aecf2262.js"><link rel="prefetch" href="/blog/assets/js/57.c7d81cbc.js"><link rel="prefetch" href="/blog/assets/js/58.347ef5d5.js"><link rel="prefetch" href="/blog/assets/js/59.41e7379b.js"><link rel="prefetch" href="/blog/assets/js/6.e4d5253e.js"><link rel="prefetch" href="/blog/assets/js/60.ae0426ed.js"><link rel="prefetch" href="/blog/assets/js/61.ed58dc2b.js"><link rel="prefetch" href="/blog/assets/js/62.b1accdd4.js"><link rel="prefetch" href="/blog/assets/js/63.1164616c.js"><link rel="prefetch" href="/blog/assets/js/64.4f8d3c69.js"><link rel="prefetch" href="/blog/assets/js/65.177d8117.js"><link rel="prefetch" href="/blog/assets/js/66.3e8c8e55.js"><link rel="prefetch" href="/blog/assets/js/67.29b6e99b.js"><link rel="prefetch" href="/blog/assets/js/68.98f6cbd0.js"><link rel="prefetch" href="/blog/assets/js/69.37004910.js"><link rel="prefetch" href="/blog/assets/js/7.b9fedda0.js"><link rel="prefetch" href="/blog/assets/js/70.cf877106.js"><link rel="prefetch" href="/blog/assets/js/71.c99f1d1d.js"><link rel="prefetch" href="/blog/assets/js/72.4ad99253.js"><link rel="prefetch" href="/blog/assets/js/73.ea49baa5.js"><link rel="prefetch" href="/blog/assets/js/74.b44de520.js"><link rel="prefetch" href="/blog/assets/js/75.47dff077.js"><link rel="prefetch" href="/blog/assets/js/76.21b350e6.js"><link rel="prefetch" href="/blog/assets/js/77.1fdd66d8.js"><link rel="prefetch" href="/blog/assets/js/78.f7440765.js"><link rel="prefetch" href="/blog/assets/js/79.b13a2ead.js"><link rel="prefetch" href="/blog/assets/js/8.3b0b410a.js"><link rel="prefetch" href="/blog/assets/js/80.1b18ef02.js"><link rel="prefetch" href="/blog/assets/js/81.7cdf1faa.js"><link rel="prefetch" href="/blog/assets/js/82.e31e8fcb.js"><link rel="prefetch" href="/blog/assets/js/83.45844fdc.js"><link rel="prefetch" href="/blog/assets/js/84.81269a59.js"><link rel="prefetch" href="/blog/assets/js/85.5dcd54aa.js"><link rel="prefetch" href="/blog/assets/js/86.85edf2ef.js"><link rel="prefetch" href="/blog/assets/js/87.66a0ba7e.js"><link rel="prefetch" href="/blog/assets/js/88.0408d068.js"><link rel="prefetch" href="/blog/assets/js/89.f1b192e8.js"><link rel="prefetch" href="/blog/assets/js/9.a5d4f8b7.js"><link rel="prefetch" href="/blog/assets/js/90.a96e7d33.js"><link rel="prefetch" href="/blog/assets/js/91.d52723c3.js"><link rel="prefetch" href="/blog/assets/js/92.64e1a004.js"><link rel="prefetch" href="/blog/assets/js/93.e82934b1.js"><link rel="prefetch" href="/blog/assets/js/94.1284bdd7.js"><link rel="prefetch" href="/blog/assets/js/95.ffe364ae.js"><link rel="prefetch" href="/blog/assets/js/96.6bbaccb7.js"><link rel="prefetch" href="/blog/assets/js/97.ed83968f.js"><link rel="prefetch" href="/blog/assets/js/98.2278ea78.js"><link rel="prefetch" href="/blog/assets/js/99.d40e440a.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.56a09861.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">个人主页</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/blog/blog/" class="nav-link router-link-active">
  blog
</a></div><div class="nav-item"><a href="/blog/interview/" class="nav-link">
  interview
</a></div><div class="nav-item"><a href="/blog/tools/" class="nav-link">
  tools
</a></div><div class="nav-item"><a href="/blog/website/" class="nav-link">
  website
</a></div><div class="nav-item"><a href="/blog/computer/" class="nav-link">
  computer
</a></div><div class="nav-item"><a href="/blog/personal/" class="nav-link">
  personal
</a></div><div class="nav-item"><a href="/blog/article/" class="nav-link">
  article
</a></div><div class="nav-item"><a href="https://github.com/Roninwz" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/blog/blog/" class="nav-link router-link-active">
  blog
</a></div><div class="nav-item"><a href="/blog/interview/" class="nav-link">
  interview
</a></div><div class="nav-item"><a href="/blog/tools/" class="nav-link">
  tools
</a></div><div class="nav-item"><a href="/blog/website/" class="nav-link">
  website
</a></div><div class="nav-item"><a href="/blog/computer/" class="nav-link">
  computer
</a></div><div class="nav-item"><a href="/blog/personal/" class="nav-link">
  personal
</a></div><div class="nav-item"><a href="/blog/article/" class="nav-link">
  article
</a></div><div class="nav-item"><a href="https://github.com/Roninwz" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>技术</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/blog/technology/IT-problem.html" class="sidebar-link">IT 技术课题</a></li><li><a href="/blog/blog/technology/IT-WORD.html" class="sidebar-link">IT 名称汇总</a></li><li><a href="/blog/blog/technology/IT-WORK.html" class="sidebar-link">IT 工作用语</a></li><li><a href="/blog/blog/technology/dev.html" class="sidebar-link">开发</a></li><li><a href="/blog/blog/technology/blog.html" class="sidebar-link">技术文章记录</a></li><li><a href="/blog/blog/technology/essay.html" class="sidebar-link">杂文</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>前端</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>前端</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/blog/front/front.html" class="sidebar-link">前端总结</a></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>前端汇总</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>front blog</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>front 优化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>front 原理</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>front 架构</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>front tools</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>node</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/blog/front/node.html" class="sidebar-link">node总结</a></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>node汇总</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>node blog</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>vue</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/blog/front/vue.html" class="sidebar-link">vue总结</a></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>vue汇总</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading open"><span>vue源码</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/blog/front/vue/source/1.html" class="sidebar-link">入口开始，解读Vue源码（一）—— 造物创世</a></li><li><a href="/blog/blog/front/vue/source/2.html" class="sidebar-link">入口开始，解读Vue源码（二）—— 处理 Vue options 选项</a></li><li><a href="/blog/blog/front/vue/source/3.html" class="sidebar-link">入口开始，解读Vue源码（三）—— initMixin 上篇</a></li><li><a href="/blog/blog/front/vue/source/4.html" class="sidebar-link">入口开始，解读Vue源码（三）—— initMixin 下篇</a></li><li><a href="/blog/blog/front/vue/source/5.html" class="sidebar-link">入口开始，解读Vue源码（四）—— 实现一个基础的 Vue 双向绑定</a></li><li><a href="/blog/blog/front/vue/source/6.html" class="sidebar-link">入口开始，解读Vue源码（五）—— $mount 内部实现</a></li><li><a href="/blog/blog/front/vue/source/7.html" class="sidebar-link">入口开始，解读Vue源码（六）—— $mount 内部实现 --- compile parse函数生成AST</a></li><li><a href="/blog/blog/front/vue/source/8.html" class="sidebar-link">入口开始，解读Vue源码（七）—— $mount 内部实现 --- compile optimize标记节点</a></li><li><a href="/blog/blog/front/vue/source/9.html" class="sidebar-link">入口开始，解读Vue源码（八）—— $mount 内部实现 --- compile generate 生成render函数</a></li><li><a href="/blog/blog/front/vue/source/10.html" aria-current="page" class="active sidebar-link">入口开始，解读Vue源码（九）—— $mount 内部实现 --- render函数 --&gt; VNode</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/blog/front/vue/source/10.html#入口开始，解读vue源码（九）-mount-内部实现-render函数-vnode" class="sidebar-link">入口开始，解读Vue源码（九）—— $mount 内部实现 --- render函数 --&gt; VNode</a></li></ul></li><li><a href="/blog/blog/front/vue/source/11.html" class="sidebar-link">入口开始，解读Vue源码（十）—— $mount 内部实现 --- patch</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>vue blog</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>vue principle</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>html</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/blog/front/html.html" class="sidebar-link">html 总结</a></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>html 汇总</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>html blog</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>css</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/blog/front/css.html" class="sidebar-link">css 总结</a></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>css汇总</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>css blog</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>SASS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>LESS</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>js</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/blog/front/javascript.html" class="sidebar-link">javascript总结</a></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>js汇总</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>js blog</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>js tools</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>react</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/blog/front/react.html" class="sidebar-link">react总结</a></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>react汇总</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>reactblog</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>uniapp</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/blog/front/uniapp.html" class="sidebar-link">uniapp总结</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>微信小程序</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/blog/front/wechat-applet.html" class="sidebar-link">微信小程序</a></li><li><a href="/blog/blog/front/wechat-applet/wechat-applet-summary.html" class="sidebar-link">微信小程序总结</a></li><li><a href="/blog/blog/front/wechat-applet/wechat-applet-article.html" class="sidebar-link">微信小程序文章</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>微信公众号</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/blog/front/wechat-num.html" class="sidebar-link">微信公众号</a></li><li><a href="/blog/blog/front/wechat-num/wechat-num-summary.html" class="sidebar-link">微信公众号总结</a></li><li><a href="/blog/blog/front/wechat-num/wechat-num-article.html" class="sidebar-link">微信公众号文章</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>算法</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>算法基础</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/blog/algorithm/algorithm.html" class="sidebar-link">数据结构和算法</a></li><li><a href="/blog/blog/algorithm/algorithm-blog.html" class="sidebar-link">算法</a></li><li><a href="/blog/blog/algorithm/basic.html" class="sidebar-link">算法基础</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>数据结构</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/blog/algorithm/data-structure/array.html" class="sidebar-link">数组</a></li><li><a href="/blog/blog/algorithm/data-structure/chart.html" class="sidebar-link">图</a></li><li><a href="/blog/blog/algorithm/data-structure/linked-list.html" class="sidebar-link">链表</a></li><li><a href="/blog/blog/algorithm/data-structure/queue.html" class="sidebar-link">队列</a></li><li><a href="/blog/blog/algorithm/data-structure/sort.html" class="sidebar-link">排序算法</a></li><li><a href="/blog/blog/algorithm/data-structure/stack.html" class="sidebar-link">栈</a></li><li><a href="/blog/blog/algorithm/data-structure/string.html" class="sidebar-link">字符串算法</a></li><li><a href="/blog/blog/algorithm/data-structure/tree.html" class="sidebar-link">树</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>blog</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/blog/algorithm/blog/linked-list/doubly-linked-list.html" class="sidebar-link">双向链表</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>后端</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>java</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/blog/backend/java.html" class="sidebar-link">java</a></li><li><section class="sidebar-group is-sub-group depth-2"><p class="sidebar-heading"><span>java汇总</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/blog/backend/java/jdk-config.html" class="sidebar-link">jdk+tomcat 环境变量配置</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-2"><p class="sidebar-heading"><span>java blog</span> <!----></p> <!----></section></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>python</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/blog/backend/python.html" class="sidebar-link">python</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>数据库</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/blog/database/database.html" class="sidebar-link">数据库总结</a></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>mysql</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/blog/database/mysql.html" class="sidebar-link">mysql 总结</a></li><li><a href="/blog/blog/database/mysql/cmd.html" class="sidebar-link">mysql sql 语句</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>mongodb</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/blog/database/mongodb.html" class="sidebar-link">mongo</a></li><li><a href="/blog/blog/database/mongodb/cmd.html" class="sidebar-link">mongo 命令</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>redis</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/blog/database/redis.html" class="sidebar-link">redis 总结</a></li><li><a href="/blog/blog/database/redis/cmd.html" class="sidebar-link">redis 语句</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>服务器</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>linux</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/blog/server/linux/cmd.html" class="sidebar-link">linux 命令</a></li><li><a href="/blog/blog/server/linux/manjaro.html" class="sidebar-link">manjaro</a></li><li><a href="/blog/blog/server/linux/ubuntu.html" class="sidebar-link">ubuntu</a></li><li><a href="/blog/blog/server/linux/vmware.html" class="sidebar-link">VMware</a></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>ubuntu</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>nginx</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/blog/server/nginx.html" class="sidebar-link">nginx 使用</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>blog</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/blog/server/web-build.html" class="sidebar-link">本地搭建 web 服务器</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>其它</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>git</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/blog/other/git.html" class="sidebar-link">git知识点</a></li><li><a href="/blog/blog/other/git/git-summary.html" class="sidebar-link">git 总结</a></li><li><a href="/blog/blog/other/git/git-config.html" class="sidebar-link">git 配置</a></li><li><a href="/blog/blog/other/git/git-cmd.html" class="sidebar-link">git 命令</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>git blog</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>脚本</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>script</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/blog/script/bat.html" class="sidebar-link">bat</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>bat</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>网络</span> <!----></p> <!----></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>测试</span> <!----></p> <!----></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>图谱</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>前端</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/blog/graph/front.html" class="sidebar-link">前端</a></li><li><a href="/blog/blog/graph/front/vue.html" class="sidebar-link">vue 图谱</a></li><li><a href="/blog/blog/graph/front/node.html" class="sidebar-link">node 图谱</a></li><li><a href="/blog/blog/graph/front/javascript.html" class="sidebar-link">javascript 图谱</a></li><li><a href="/blog/blog/graph/front/css.html" class="sidebar-link">css 图谱</a></li><li><a href="/blog/blog/graph/front/html.html" class="sidebar-link">html 图谱</a></li><li><a href="/blog/blog/graph/front/react.html" class="sidebar-link">react 图谱</a></li><li><a href="/blog/blog/graph/front/jquery.html" class="sidebar-link">jquery 图谱</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>后端</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/blog/graph/backend.html" class="sidebar-link">后端</a></li></ul></section></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="入口开始，解读vue源码（九）-mount-内部实现-render函数-vnode"><a href="#入口开始，解读vue源码（九）-mount-内部实现-render函数-vnode" class="header-anchor">#</a> 入口开始，解读Vue源码（九）—— $mount 内部实现 --- render函数 --&gt; VNode</h2> <p>前面我们用三小节介绍了<code>compile</code>渲染<code>template</code>，完成了 <code>template --&gt; AST --&gt; render function</code> 的过程。这篇我们主要介绍一下<code>VNode</code>的生成过程，在此之前，我们先来了解一下一个基础的VNode:</p> <h4 id="vnode-了解一下"><a href="#vnode-了解一下" class="header-anchor">#</a> VNode 了解一下</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">constructor</span> <span class="token punctuation">(</span>
    <span class="token parameter">tag<span class="token operator">?</span><span class="token operator">:</span> string<span class="token punctuation">,</span>
    data<span class="token operator">?</span><span class="token operator">:</span> VNodeData<span class="token punctuation">,</span>
    children<span class="token operator">?</span><span class="token operator">:</span> <span class="token operator">?</span>Array<span class="token operator">&lt;</span>VNode<span class="token operator">&gt;</span><span class="token punctuation">,</span>
    text<span class="token operator">?</span><span class="token operator">:</span> string<span class="token punctuation">,</span>
    elm<span class="token operator">?</span><span class="token operator">:</span> Node<span class="token punctuation">,</span>
    context<span class="token operator">?</span><span class="token operator">:</span> Component<span class="token punctuation">,</span>
    componentOptions<span class="token operator">?</span><span class="token operator">:</span> VNodeComponentOptions<span class="token punctuation">,</span>
    asyncFactory<span class="token operator">?</span><span class="token operator">:</span> Function</span>
  <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>tag <span class="token operator">=</span> tag
    <span class="token keyword">this</span><span class="token punctuation">.</span>data <span class="token operator">=</span> data
    <span class="token keyword">this</span><span class="token punctuation">.</span>children <span class="token operator">=</span> children
    <span class="token keyword">this</span><span class="token punctuation">.</span>text <span class="token operator">=</span> text
    <span class="token keyword">this</span><span class="token punctuation">.</span>elm <span class="token operator">=</span> elm
    <span class="token keyword">this</span><span class="token punctuation">.</span>ns <span class="token operator">=</span> <span class="token keyword">undefined</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>context <span class="token operator">=</span> context
    <span class="token keyword">this</span><span class="token punctuation">.</span>functionalContext <span class="token operator">=</span> <span class="token keyword">undefined</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>functionalOptions <span class="token operator">=</span> <span class="token keyword">undefined</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>functionalScopeId <span class="token operator">=</span> <span class="token keyword">undefined</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>key <span class="token operator">=</span> data <span class="token operator">&amp;&amp;</span> data<span class="token punctuation">.</span>key
    <span class="token keyword">this</span><span class="token punctuation">.</span>componentOptions <span class="token operator">=</span> componentOptions
    <span class="token keyword">this</span><span class="token punctuation">.</span>componentInstance <span class="token operator">=</span> <span class="token keyword">undefined</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>parent <span class="token operator">=</span> <span class="token keyword">undefined</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>raw <span class="token operator">=</span> <span class="token boolean">false</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>isStatic <span class="token operator">=</span> <span class="token boolean">false</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>isRootInsert <span class="token operator">=</span> <span class="token boolean">true</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>isComment <span class="token operator">=</span> <span class="token boolean">false</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>isCloned <span class="token operator">=</span> <span class="token boolean">false</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>isOnce <span class="token operator">=</span> <span class="token boolean">false</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>asyncFactory <span class="token operator">=</span> asyncFactory
    <span class="token keyword">this</span><span class="token punctuation">.</span>asyncMeta <span class="token operator">=</span> <span class="token keyword">undefined</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>isAsyncPlaceholder <span class="token operator">=</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><p>包含了我们常用的一些标记节点的属性，为什么是VNode？其实网上已经有大量的资料可以了解到VNode的优势，比如大量副交互的性能优势，ssr的支持，跨平台Weex的支持...这里不再赘述。我们接下来看一下VNode的基本分类：
<img src="https://segmentfault.com/img/bVITTR?w=495&amp;h=540" alt="VNode 分类"></p> <p>比如我们创建一个 <code>emptyVNode</code>:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">const</span> createEmptyVNode <span class="token operator">=</span> <span class="token punctuation">(</span>text<span class="token operator">:</span> string <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> node <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  node<span class="token punctuation">.</span>text <span class="token operator">=</span> text
  node<span class="token punctuation">.</span>isComment <span class="token operator">=</span> <span class="token boolean">true</span>
  <span class="token keyword">return</span> node
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>比如一个 <code>textVNode</code>:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">createTextVNode</span> <span class="token punctuation">(</span><span class="token parameter">val<span class="token operator">:</span> string <span class="token operator">|</span> number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">VNode</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token function">String</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="生成-vnode"><a href="#生成-vnode" class="header-anchor">#</a> 生成 VNode</h4> <p>有了之前章节的知识，现在我们需要编译下面这段<code>template</code></p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>header</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>I'm a template!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>header</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>message<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    {{ message }}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">v-else</span><span class="token punctuation">&gt;</span></span>
    No message.
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>得到这样的<code>render function</code></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">with</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">_c</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span><span class="token punctuation">{</span>   <span class="token comment">//创建一个 div 元素</span>
      attrs<span class="token operator">:</span><span class="token punctuation">{</span><span class="token string">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;app&quot;</span><span class="token punctuation">}</span>  <span class="token comment">//div 添加属性 id</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">[</span>
        <span class="token function">_m</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment">//静态节点 header，此处对应 staticRenderFns 数组索引为 0 的 render function</span>
        <span class="token function">_v</span><span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//空的文本节点</span>
        <span class="token punctuation">(</span>message<span class="token punctuation">)</span> <span class="token comment">//三元表达式，判断 message 是否存在</span>
         <span class="token comment">//如果存在，创建 p 元素，元素里面有文本，值为 toString(message)</span>
        <span class="token operator">?</span><span class="token function">_c</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token function">_v</span><span class="token punctuation">(</span><span class="token string">&quot;\n    &quot;</span><span class="token operator">+</span><span class="token function">_s</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&quot;\n  &quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token comment">//如果不存在，创建 p 元素，元素里面有文本，值为 No message.</span>
        <span class="token operator">:</span><span class="token function">_c</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token function">_v</span><span class="token punctuation">(</span><span class="token string">&quot;\n    No message.\n  &quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>要看懂上面的 render function，只需要了解 <code>_c，_m，_v，_s</code>这几个函数的定义，其中 _c 是 <code>createElement</code>，_m 是 <code>renderStatic</code>，_v 是 <code>createTextVNode</code>，_s 是 <code>toString</code>。
我们在编译的过程中调用了<code>vm._render()</code> 方法，其中<code>_render</code>函数中有这样一句：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> render<span class="token punctuation">,</span> _parentVnode <span class="token punctuation">}</span> <span class="token operator">=</span> vm<span class="token punctuation">.</span>$options
<span class="token operator">...</span>
vnode <span class="token operator">=</span> <span class="token function">render</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>vm<span class="token punctuation">.</span>_renderProxy<span class="token punctuation">,</span> vm<span class="token punctuation">.</span>$createElement<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>也就是通过调用自身的<code>render</code>方法，传入<code>$createElement</code>方法来生成<code>VNode</code>节点。那么核心便在<code>$createElement</code>的方法上了。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token constant">SIMPLE_NORMALIZE</span> <span class="token operator">=</span> <span class="token number">1</span>
<span class="token keyword">const</span> <span class="token constant">ALWAYS_NORMALIZE</span> <span class="token operator">=</span> <span class="token number">2</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">createElement</span> <span class="token punctuation">(</span>
  <span class="token parameter">context<span class="token operator">:</span> Component<span class="token punctuation">,</span>
  tag<span class="token operator">:</span> any<span class="token punctuation">,</span>
  data<span class="token operator">:</span> any<span class="token punctuation">,</span>
  children<span class="token operator">:</span> any<span class="token punctuation">,</span>
  normalizationType<span class="token operator">:</span> any<span class="token punctuation">,</span>
  alwaysNormalize<span class="token operator">:</span> boolean</span>
<span class="token punctuation">)</span><span class="token operator">:</span> VNode <span class="token punctuation">{</span>
  <span class="token comment">// 兼容传递参数顺序</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token function">isPrimitive</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    normalizationType <span class="token operator">=</span> children
    children <span class="token operator">=</span> data
    data <span class="token operator">=</span> <span class="token keyword">undefined</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isTrue</span><span class="token punctuation">(</span>alwaysNormalize<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    normalizationType <span class="token operator">=</span> <span class="token constant">ALWAYS_NORMALIZE</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 调用_createElement创建虚拟节点</span>
  <span class="token keyword">return</span> <span class="token function">_createElement</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> tag<span class="token punctuation">,</span> data<span class="token punctuation">,</span> children<span class="token punctuation">,</span> normalizationType<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">_createElement</span> <span class="token punctuation">(</span>
  <span class="token parameter">context<span class="token operator">:</span> Component<span class="token punctuation">,</span>
  tag<span class="token operator">?</span><span class="token operator">:</span> string <span class="token operator">|</span> Class<span class="token operator">&lt;</span>Component<span class="token operator">&gt;</span> <span class="token operator">|</span> Function <span class="token operator">|</span> Object<span class="token punctuation">,</span>
  data<span class="token operator">?</span><span class="token operator">:</span> VNodeData<span class="token punctuation">,</span>
  children<span class="token operator">?</span><span class="token operator">:</span> any<span class="token punctuation">,</span>
  normalizationType<span class="token operator">?</span><span class="token operator">:</span> number</span>
<span class="token punctuation">)</span><span class="token operator">:</span> VNode <span class="token punctuation">{</span>

  <span class="token comment">/**
   * 如果存在data.__ob__，说明data是被Observer观察的数据
   * 不能用作虚拟节点的data
   * 需要抛出警告，并返回一个空节点
   *
   * 被监控的data不能被用作vnode渲染的数据的原因是：
   * data在vnode渲染过程中可能会被改变，这样会触发监控，导致不符合预期的操作
   */</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isDef</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">isDef</span><span class="token punctuation">(</span><span class="token punctuation">(</span>data<span class="token operator">:</span> any<span class="token punctuation">)</span><span class="token punctuation">.</span>__ob__<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">!==</span> <span class="token string">'production'</span> <span class="token operator">&amp;&amp;</span> <span class="token function">warn</span><span class="token punctuation">(</span>
      <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Avoid using observed data object as vnode data: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">\n</span><span class="token template-punctuation string">`</span></span> <span class="token operator">+</span>
      <span class="token string">'Always create fresh vnode data objects in each render!'</span><span class="token punctuation">,</span>
      context
    <span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token function">createEmptyVNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 当通过 :is 动态设置组件时</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isDef</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">isDef</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>is<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    tag <span class="token operator">=</span> data<span class="token punctuation">.</span>is
  <span class="token punctuation">}</span>

  <span class="token comment">// 如果这里tag被设置成false或者不存在tag，创建一个空的节点。下面的注释应该是写错了...</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>tag<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// in case of component :is set to falsy value</span>
    <span class="token keyword">return</span> <span class="token function">createEmptyVNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 作用域插槽</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>children<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
    <span class="token keyword">typeof</span> children<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">'function'</span>
  <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    data <span class="token operator">=</span> data <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    data<span class="token punctuation">.</span>scopedSlots <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token keyword">default</span><span class="token operator">:</span> children<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token punctuation">}</span>
    children<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">0</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 根据normalizationType的值，选择不同的处理方法</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>normalizationType <span class="token operator">===</span> <span class="token constant">ALWAYS_NORMALIZE</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    children <span class="token operator">=</span> <span class="token function">normalizeChildren</span><span class="token punctuation">(</span>children<span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>normalizationType <span class="token operator">===</span> <span class="token constant">SIMPLE_NORMALIZE</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    children <span class="token operator">=</span> <span class="token function">simpleNormalizeChildren</span><span class="token punctuation">(</span>children<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">let</span> vnode<span class="token punctuation">,</span> ns
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> tag <span class="token operator">===</span> <span class="token string">'string'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> Ctor
    ns <span class="token operator">=</span> <span class="token punctuation">(</span>context<span class="token punctuation">.</span>$vnode <span class="token operator">&amp;&amp;</span> context<span class="token punctuation">.</span>$vnode<span class="token punctuation">.</span>ns<span class="token punctuation">)</span> <span class="token operator">||</span> config<span class="token punctuation">.</span><span class="token function">getTagNamespace</span><span class="token punctuation">(</span>tag<span class="token punctuation">)</span>
    <span class="token comment">// 如果是保留的标签，处理...</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>config<span class="token punctuation">.</span><span class="token function">isReservedTag</span><span class="token punctuation">(</span>tag<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

      vnode <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VNode</span><span class="token punctuation">(</span>
        config<span class="token punctuation">.</span><span class="token function">parsePlatformTagName</span><span class="token punctuation">(</span>tag<span class="token punctuation">)</span><span class="token punctuation">,</span> data<span class="token punctuation">,</span> children<span class="token punctuation">,</span>
        <span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> context
      <span class="token punctuation">)</span>
      <span class="token comment">// 如果不是保留标签，那么我们将尝试从vm的components上查找是否有这个标签的定义</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isDef</span><span class="token punctuation">(</span>Ctor <span class="token operator">=</span> <span class="token function">resolveAsset</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span>$options<span class="token punctuation">,</span> <span class="token string">'components'</span><span class="token punctuation">,</span> tag<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      vnode <span class="token operator">=</span> <span class="token function">createComponent</span><span class="token punctuation">(</span>Ctor<span class="token punctuation">,</span> data<span class="token punctuation">,</span> context<span class="token punctuation">,</span> children<span class="token punctuation">,</span> tag<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      vnode <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VNode</span><span class="token punctuation">(</span>
        tag<span class="token punctuation">,</span> data<span class="token punctuation">,</span> children<span class="token punctuation">,</span>
        <span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> context
      <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 当tag不是字符串的时候，我们认为tag是组件的构造类</span>
    <span class="token comment">// 所以直接创建</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    vnode <span class="token operator">=</span> <span class="token function">createComponent</span><span class="token punctuation">(</span>tag<span class="token punctuation">,</span> data<span class="token punctuation">,</span> context<span class="token punctuation">,</span> children<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 经过上面的处理，如果能正常获得VNode，则返回，否则创建一个空的VNode</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isDef</span><span class="token punctuation">(</span>vnode<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>ns<span class="token punctuation">)</span> <span class="token function">applyNS</span><span class="token punctuation">(</span>vnode<span class="token punctuation">,</span> ns<span class="token punctuation">)</span>
    <span class="token keyword">return</span> vnode
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">createEmptyVNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br></div></div><p>经过上面的一系列过程，最终得到了我们的VNode，看起来是这样的:</p> <p><img src="http://img.souche.com/f2e/e9d3ffaa7d93b97064019328a9bd193d.png" alt=""></p> <h4 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h4> <p>render函数的执行，调用了<code>createElement</code>方法，其内部通过传入的相关参数，根据不同类型，一步步解析出了<code>VNode</code>。那么 <code>VNode</code>如果进行渲染成不同平台所需的内容呢？下篇我们将会继续介绍<code>patch</code>的工作。</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">更新时间:</span> <span class="time">7/9/2020, 2:29:26 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/blog/front/vue/source/9.html" class="prev">
        入口开始，解读Vue源码（八）—— $mount 内部实现 --- compile generate 生成render函数
      </a></span> <span class="next"><a href="/blog/blog/front/vue/source/11.html">
        入口开始，解读Vue源码（十）—— $mount 内部实现 --- patch
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.c9938c2c.js" defer></script><script src="/blog/assets/js/2.39a278a7.js" defer></script><script src="/blog/assets/js/163.0b35fe5f.js" defer></script>
  </body>
</html>
